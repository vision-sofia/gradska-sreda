{% extends 'front/geo-object/layout.html.twig' %}

{% block content %}
    <h2>Обект</h2>

    <div id="map" class="map" style="height: 200px;"></div>
    <script type="text/javascript">
        var map = new ol.Map({
            target: 'map',
            layers: [
                new ol.layer.Tile({
                    source: new ol.source.OSM()
                })
            ],
            view: new ol.View({
                center: ol.proj.fromLonLat([23.3197423, 42.696717]),
                zoom: 15
            })
        });
    </script>

    <p>{{ geo_object.attributes.type }}</p>

    {% if is_available_for_survey == true %}
        {% if question is null %}
            Няма повече въпроси
        {% else %}
            <strong>{{ question.title }}</strong>

            <form method="post" action="{{ path('app.geo-object.result', {'id': geo_object.uuid}) }}">
                {% for answer in question.answers %}
                    {% if answer.parent is null %}
                        <p {{ answer.parent is null ? '' : 'style="padding-left:30px;"' }}><label><input type="radio" name="parent" value="{{ answer.uuid }}">{{ answer.title }}</label></p>
                    {% else %}
                        <p {{ answer.parent is null ? '' : 'style="padding-left:30px;"' }}><label><input type="checkbox" name="child[]" value="{{ answer.uuid }}">{{ answer.title }}</label></p>
                    {% endif %}
                {% endfor %}
                <button type="submit">Изпрати</button>
            </form>
        {% endif %}
    {% endif %}
{% endblock %}
