/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _mapMain = __webpack_require__(1);\n\nvar _survey = __webpack_require__(3);\n\n(function () {\n    var mapInstance = new _mapMain.Map();\n    console.log(mapInstance);\n    mapInstance.init();\n    var pathVoteSurvey = new _survey.Survey(mapInstance);\n    mapInstance.setSurvey(pathVoteSurvey);\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvbWFpbi5qcz82NTJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hcCB9IGZyb20gJy4vbWFwLW1haW4nO1xuaW1wb3J0IHsgU3VydmV5IH0gIGZyb20gJy4vc3VydmV5JztcblxuXG4oZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgbWFwSW5zdGFuY2UgPSBuZXcgTWFwKCk7XG4gICAgY29uc29sZS5sb2cobWFwSW5zdGFuY2UpO1xuICAgIG1hcEluc3RhbmNlLmluaXQoKTtcbiAgICBjb25zdCBwYXRoVm90ZVN1cnZleSA9IG5ldyBTdXJ2ZXkobWFwSW5zdGFuY2UpO1xuICAgIG1hcEluc3RhbmNlLnNldFN1cnZleShwYXRoVm90ZVN1cnZleSk7XG4gICAgXG4gfSkoKTtcblxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFzc2V0cy9mcm9udC9qcy9tYWluLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Map = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mapConfig = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Map = exports.Map = function () {\n    function Map() {\n        _classCallCheck(this, Map);\n\n        this.objectsSettings = {};\n        this.geoJsonLayer = {};\n        this.myLocationLayerGroup = L.layerGroup();\n        this.popusLayerGroup = L.layerGroup();\n    }\n\n    _createClass(Map, [{\n        key: 'init',\n        value: function init() {\n            var _this = this;\n\n            if (!document.getElementById('mapMain')) {\n                return;\n            }\n            this.loading = $('.loading');\n            this.confirmModal = $('.confirm');\n\n            $(document).on('click', '[data-confirm-cancel]', function () {\n                _this.removeAllPopups();\n            });\n            //const mapCenter = mapOption.center;\n            //const mapZoom = mapOption.zoom;\n\n\n            var initialLoad = false;\n\n            this.map = new L.map('mapMain', {\n                updateWhenZooming: false,\n                attributionControl: false\n            });\n\n            this.map.setActiveArea(_mapConfig.defaultObjectStyle.mapActiveArea);\n\n            var mapStyle = L.tileLayer(_mapConfig.mapBoxUrl, {\n                attribution: _mapConfig.mapBoxAttribution,\n                maxNativeZoom: 19,\n                maxZoom: 21,\n                minZoom: 11,\n                updateWhenZooming: false\n            });\n            mapStyle.addTo(this.map);\n\n            var myLocationButton = L.Control.extend({\n                options: {\n                    position: 'topleft'\n                },\n                onAdd: function onAdd() {\n                    var container = L.DomUtil.create('button', 'leaflet-bar leaflet-control-custom far fa-dot-circle');\n                    container.type = \"button\";\n                    container.onclick = function () {\n                        _this.locate();\n                    };\n                    return container;\n                }\n            });\n            this.map.addControl(new myLocationButton());\n\n            this.myLocationLayerGroup.addTo(this.map);\n\n            this.popusLayerGroup.addTo(this.map);\n\n            var updateMapThrottle = void 0;\n            this.map.on('moveend', function () {\n                clearTimeout(updateMapThrottle);\n                updateMapThrottle = setTimeout(function () {\n                    var center = _this.map.getCenter();\n\n                    _this.updateMap(center, function () {\n                        if (!initialLoad) {\n                            initialLoad = true;\n                            if ($('#mapMain').data('locate-on-load') === true) {\n                                _this.locate();\n                            }\n                        }\n                    });\n                }, 200);\n            });\n\n            this.map.on('locationfound', this.setMapViewToMyLocation.bind(this));\n            this.map.on('locationerror', this.setInitialMapView.bind(this));\n\n            this.geoJsonLayer = L.geoJSON([], {\n                style: function style(feature) {\n                    var styles = _this.objectsSettings.styles[feature.properties._s1] ? _extends({}, _this.objectsSettings.styles[feature.properties._s1]) : _extends({}, _mapConfig.defaultObjectStyle);\n                    return styles;\n                },\n                onEachFeature: function onEachFeature(feature, layer) {\n                    layer.on('click', function (ev) {\n                        switch (feature.properties._behavior) {\n                            case \"navigation\":\n                                _this.zoomToLayer(layer, ev);\n                                break;\n                            default:\n                                _this.openLayerPopup(layer, ev);\n                                _this.zoomToLayer(layer, ev);\n                                break;\n                        }\n                    });\n                    layer.on('mouseover', function () {\n                        if (layer.feature.properties.activePopup) {\n                            return;\n                        }\n                        if (_this.objectsSettings.styles[feature.properties._s2]) {\n                            _this.setLayerHoverStyle(layer);\n                        }\n                    });\n                    layer.on('mouseout', function () {\n                        if (layer.feature.properties.activePopup) {\n                            return;\n                        }\n                        if (_this.objectsSettings.styles[feature.properties._s1]) {\n                            _this.setLayerDefaultStyle(layer);\n                        }\n                    });\n                },\n                pointToLayer: function pointToLayer(feature, latlng) {\n                    return L.circleMarker(latlng, _this.objectsSettings.styles[feature.properties._s1]);\n                }\n            }).addTo(this.map);\n\n            this.setInitialMapView();\n        }\n    }, {\n        key: 'updateMap',\n        value: function updateMap(center) {\n            var _this2 = this;\n\n            var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n            var zoom = this.map.getZoom();\n            var bounds = this.map.getBounds();\n            var returnedTarget = {};\n\n            var a = {\n                in: bounds._southWest.lng + ',' + bounds._northEast.lat + ',' + bounds._northEast.lng + ',' + bounds._southWest.lat + ',',\n                zoom: zoom,\n                c: center.lat + ',' + center.lng\n            };\n\n            if (typeof b !== 'undefined') {\n                returnedTarget = Object.assign(a, b);\n            } else {\n                returnedTarget = a;\n            }\n\n            $.ajax({\n                data: returnedTarget,\n                url: \"/front-end/map?\",\n                success: function success(results) {\n                    _this2.objectsSettings = results.settings;\n                    _this2.geoJsonLayer.clearLayers();\n                    _this2.geoJsonLayer.addData(results.objects);\n                    fn();\n                }\n            });\n        }\n    }, {\n        key: 'saveViewport',\n        value: function saveViewport(center) {\n            var zoom = this.map.getZoom();\n            var a = {\n                zoom: zoom,\n                c: center.lat + ',' + center.lng\n            };\n\n            $.ajax({\n                data: a,\n                url: \"/map/z\",\n                success: function success(results) {}\n            });\n        }\n    }, {\n        key: 'locate',\n        value: function locate() {\n            this.loading.removeClass('d-none');\n            this.map.locate({\n                setView: true,\n                maxZoom: this.objectsSettings.default_zoom\n            });\n        }\n    }, {\n        key: 'setMapViewToMyLocation',\n        value: function setMapViewToMyLocation(e) {\n            var _this3 = this;\n\n            this.loading.addClass('d-none');\n            var radius = e.accuracy / 2;\n\n            this.myLocationLayerGroup.eachLayer(function (layer) {\n                _this3.myLocationLayerGroup.removeLayer(layer);\n            });\n\n            var center = L.circle(e.latlng, {\n                color: '#fff',\n                fillColor: '#2A93EE',\n                fillOpacity: 1,\n                weight: 4,\n                opacity: 1,\n                radius: 5\n            }).addTo(this.myLocationLayerGroup);\n\n            L.circle(e.latlng, {\n                radius: e.accuracy / 2,\n                color: '#136AEC',\n                fillColor: '#136AEC',\n                fillOpacity: 0.15,\n                weight: 0\n            }).addTo(this.myLocationLayerGroup);\n\n            center.bindPopup(\"Намирате се в радиус от \" + radius + \" метра от тази локация\", {\n                offset: L.point(0, -10)\n            });\n            center.openPopup();\n        }\n    }, {\n        key: 'setInitialMapView',\n        value: function setInitialMapView() {\n            var _this4 = this;\n\n            this.loading.addClass('d-none');\n\n            var zoom = void 0;\n            var lat = void 0;\n            var lng = void 0;\n\n            $.ajax({\n                url: \"/map/p\",\n                success: function success(results) {\n                    zoom = results.zoom;\n                    lat = results.lat;\n                    lng = results.lng;\n                    _this4.setRealInitialMapView(lat, lng, zoom);\n                }\n            });\n        }\n    }, {\n        key: 'setRealInitialMapView',\n        value: function setRealInitialMapView(lat, lng, zoom) {\n            this.map.setView([lat, lng], zoom);\n        }\n    }, {\n        key: 'zoomToLayer',\n        value: function zoomToLayer(layer, ev) {\n            var clickCoordinates = ev.latlng;\n            if (layer.feature.properties._zoom && layer.feature.properties._zoom !== this.map.getZoom()) {\n                this.map.setView(clickCoordinates, layer.feature.properties._zoom);\n            } else {\n                this.map.setView(clickCoordinates);\n\n                this.saveViewport(clickCoordinates);\n            }\n        }\n    }, {\n        key: 'openLayerPopup',\n        value: function openLayerPopup(layer, ev) {\n            var _this5 = this;\n\n            layer.feature.properties.activePopup = true;\n            this.setLayerActiveStyle(layer);\n            this.removeAllPopups();\n\n            var coordinates = void 0;\n\n            if (layer.feature.properties._behavior === 'survey') {\n                coordinates = this.map.mouseEventToLatLng(ev.originalEvent);\n                if (mapOption.survey === true) {\n                    // openConfirmModal(layer);\n                    this.setSurveyData(layer, ev);\n                }\n            } else {\n                coordinates = ev.latlng;\n            }\n\n            var popupLayer = L.circle(coordinates, {\n                fillOpacity: 0,\n                weight: 0,\n                opacity: 0,\n                radius: 1\n            }).addTo(this.popusLayerGroup);\n\n            var surveyTemplate = '\\n            <p class=\"text-center\">\\n                <!-- <form method=\"post\" class=\"m-form\" action=\"/front-end/geo-collection/add\">\\n                    <input type=\"hidden\" name=\"geo-object\" value=\"' + layer.feature.properties.id + '\">\\n                    <button type=\"submit\">' + layer.feature.properties.id + '</button>\\n                </form> -->\\n                ' + layer.feature.properties.type + '<br />' + layer.feature.properties.name + '\\n            </p>\\n            <div class=\"survey-modal\">\\n                <div class=\"container py-4\">\\n                    <div class=\"row\">\\n                        <div class=\"col-12 text-center\">\\n                            <h5 class=\"font-weight-bold mb-3\" data-confirm-title>\\n                              \\u0418\\u0441\\u043A\\u0430\\u0442\\u0435 \\u043B\\u0438 \\u0434\\u0430 \\u043E\\u0446\\u0435\\u043D\\u0438\\u0442\\u0435\\n                            </h5>\\n                        </div>\\n                        <div class=\"col-12 text-center\">\\n                            <button data-survey-open data-url=\"' + (_mapConfig.apiEndpoints.geo + layer.feature.properties.id) + '\" class=\"btn btn-success mr-3 px-4\">\\u0414\\u0410</button>\\n                            <button data-confirm-cancel class=\"btn btn-danger cursor-pointer px-4\">\\u041D\\u0415</button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>';\n\n            var popupContent = surveyTemplate;\n\n            popupLayer.bindPopup(popupContent, {\n                offset: L.point(0, -20)\n            }).on('popupclose', function () {\n                _this5.confirmModal.addClass('d-none');\n                layer.feature.properties.activePopup = false;\n                _this5.setLayerDefaultStyle(layer);\n                _this5.removeAllPopups();\n            }).openPopup();\n\n            var collection = mapOption.collection;\n\n            if (typeof collection !== 'undefined') {\n                $.ajax({\n                    type: \"POST\",\n                    url: '/front-end/geo-collection/add',\n                    data: {\n                        'geo-object': layer.feature.properties.id,\n                        'collection': collection\n                    },\n                    success: function success() {\n                        _this5.updateMap();\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'removeAllPopups',\n        value: function removeAllPopups() {\n            var _this6 = this;\n\n            this.map.closePopup();\n            this.popusLayerGroup.eachLayer(function (layer) {\n                _this6.popusLayerGroup.removeLayer(layer);\n            });\n        }\n    }, {\n        key: 'setLayerDefaultStyle',\n        value: function setLayerDefaultStyle(layer) {\n            layer.setStyle(this.objectsSettings.styles[layer.feature.properties._s1] || _mapConfig.defaultObjectStyle);\n        }\n    }, {\n        key: 'setLayerHoverStyle',\n        value: function setLayerHoverStyle(layer) {\n            layer.setStyle(this.objectsSettings.styles[layer.feature.properties._s2]);\n        }\n    }, {\n        key: 'setLayerActiveStyle',\n        value: function setLayerActiveStyle(layer) {\n            switch (layer.feature.geometry.type) {\n                case \"Point\":\n                    layer.setStyle(this.objectsSettings.styles['on_dialog_point']);\n                    break;\n                case \"MultiLineString\":\n                    layer.setStyle(this.objectsSettings.styles['on_dialog_line']);\n                    break;\n                case \"Polygon\":\n                    layer.setStyle(this.objectsSettings.styles['on_dialog_polygon']);\n                    break;\n            }\n        }\n    }, {\n        key: 'setSurvey',\n        value: function setSurvey(voteSurvay) {\n            this.voteSurvay = voteSurvay;\n        }\n    }, {\n        key: 'setSurveyData',\n        value: function setSurveyData(layer, ev) {\n            this.voteSurvay.setLayerData(layer, ev);\n        }\n\n        // closeSurvey() => {\n        // pathVoteSurvey.close();\n        // }\n\n    }]);\n\n    return Map;\n}();\n\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvbWFwLW1haW4uanM/NzkzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYXBCb3hBdHRyaWJ1dGlvbiwgbWFwQm94VXJsLCBhcGlFbmRwb2ludHMsIGRlZmF1bHRPYmplY3RTdHlsZSB9IGZyb20gJy4vbWFwLWNvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBNYXAge1xuICAgIG1hcDtcbiAgICBvYmplY3RzU2V0dGluZ3MgPSB7fTtcbiAgICBnZW9Kc29uTGF5ZXIgPSB7fTtcbiAgICBteUxvY2F0aW9uTGF5ZXJHcm91cCA9IEwubGF5ZXJHcm91cCgpO1xuICAgIHBvcHVzTGF5ZXJHcm91cCA9IEwubGF5ZXJHcm91cCgpO1xuICAgIHZvdGVTdXJ2YXk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXBNYWluJykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvYWRpbmcgPSAkKCcubG9hZGluZycpO1xuICAgICAgICB0aGlzLmNvbmZpcm1Nb2RhbCA9ICQoJy5jb25maXJtJyk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWNvbmZpcm0tY2FuY2VsXScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsUG9wdXBzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvL2NvbnN0IG1hcENlbnRlciA9IG1hcE9wdGlvbi5jZW50ZXI7XG4gICAgICAgIC8vY29uc3QgbWFwWm9vbSA9IG1hcE9wdGlvbi56b29tO1xuXG4gICAgXG4gICAgICAgIGxldCBpbml0aWFsTG9hZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubWFwID0gbmV3IEwubWFwKCdtYXBNYWluJywge1xuICAgICAgICAgICAgdXBkYXRlV2hlblpvb21pbmc6IGZhbHNlLFxuICAgICAgICAgICAgYXR0cmlidXRpb25Db250cm9sOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1hcC5zZXRBY3RpdmVBcmVhKGRlZmF1bHRPYmplY3RTdHlsZS5tYXBBY3RpdmVBcmVhKTtcblxuICAgICAgICBsZXQgbWFwU3R5bGUgPSBMLnRpbGVMYXllcihtYXBCb3hVcmwsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiBtYXBCb3hBdHRyaWJ1dGlvbixcbiAgICAgICAgICAgIG1heE5hdGl2ZVpvb206IDE5LFxuICAgICAgICAgICAgbWF4Wm9vbTogMjEsXG4gICAgICAgICAgICBtaW5ab29tOiAxMSxcbiAgICAgICAgICAgIHVwZGF0ZVdoZW5ab29taW5nOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgbWFwU3R5bGUuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgIGxldCBteUxvY2F0aW9uQnV0dG9uID0gTC5Db250cm9sLmV4dGVuZCh7XG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWRkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICdsZWFmbGV0LWJhciBsZWFmbGV0LWNvbnRyb2wtY3VzdG9tIGZhciBmYS1kb3QtY2lyY2xlJyk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnR5cGUgPSBcImJ1dHRvblwiO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2F0ZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFwLmFkZENvbnRyb2wobmV3IG15TG9jYXRpb25CdXR0b24oKSk7XG5cbiAgICAgICAgXG4gICAgICAgIHRoaXMubXlMb2NhdGlvbkxheWVyR3JvdXAuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgIHRoaXMucG9wdXNMYXllckdyb3VwLmFkZFRvKHRoaXMubWFwKTtcblxuICAgICAgICBsZXQgdXBkYXRlTWFwVGhyb3R0bGU7XG4gICAgICAgIHRoaXMubWFwLm9uKCdtb3ZlZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZU1hcFRocm90dGxlKTtcbiAgICAgICAgICAgIHVwZGF0ZU1hcFRocm90dGxlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNlbnRlciA9IHRoaXMubWFwLmdldENlbnRlcigpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYXAoY2VudGVyLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxMb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKCcjbWFwTWFpbicpLmRhdGEoJ2xvY2F0ZS1vbi1sb2FkJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2F0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdGhpcy5tYXAub24oJ2xvY2F0aW9uZm91bmQnLCB0aGlzLnNldE1hcFZpZXdUb015TG9jYXRpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGlvbmVycm9yJywgdGhpcy5zZXRJbml0aWFsTWFwVmlldy5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLmdlb0pzb25MYXllciA9IEwuZ2VvSlNPTihbXSwgeyBcbiAgICAgICAgICAgIHN0eWxlOiAoZmVhdHVyZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBzdHlsZXMgPSB0aGlzLm9iamVjdHNTZXR0aW5ncy5zdHlsZXNbZmVhdHVyZS5wcm9wZXJ0aWVzLl9zMV0gPyB7Li4udGhpcy5vYmplY3RzU2V0dGluZ3Muc3R5bGVzW2ZlYXR1cmUucHJvcGVydGllcy5fczFdfSA6IHsuLi5kZWZhdWx0T2JqZWN0U3R5bGV9O1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogKGZlYXR1cmUsIGxheWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgbGF5ZXIub24oJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZmVhdHVyZS5wcm9wZXJ0aWVzLl9iZWhhdmlvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5hdmlnYXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnpvb21Ub0xheWVyKGxheWVyLCBldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkxheWVyUG9wdXAobGF5ZXIsIGV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnpvb21Ub0xheWVyKGxheWVyLCBldik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsYXllci5vbignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmFjdGl2ZVBvcHVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub2JqZWN0c1NldHRpbmdzLnN0eWxlc1tmZWF0dXJlLnByb3BlcnRpZXMuX3MyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMYXllckhvdmVyU3R5bGUobGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGF5ZXIub24oJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmFjdGl2ZVBvcHVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub2JqZWN0c1NldHRpbmdzLnN0eWxlc1tmZWF0dXJlLnByb3BlcnRpZXMuX3MxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMYXllckRlZmF1bHRTdHlsZShsYXllcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb2ludFRvTGF5ZXI6IChmZWF0dXJlLCBsYXRsbmcpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTC5jaXJjbGVNYXJrZXIobGF0bG5nLCB0aGlzLm9iamVjdHNTZXR0aW5ncy5zdHlsZXNbZmVhdHVyZS5wcm9wZXJ0aWVzLl9zMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgdGhpcy5zZXRJbml0aWFsTWFwVmlldygpO1xuICAgIH1cblxuICAgIHVwZGF0ZU1hcChjZW50ZXIsIGZuID0gKCkgPT4ge1xuICAgIH0pIHtcbiAgICAgICAgbGV0IHpvb20gPSB0aGlzLm1hcC5nZXRab29tKCk7XG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLm1hcC5nZXRCb3VuZHMoKTtcbiAgICAgICAgbGV0IHJldHVybmVkVGFyZ2V0ID0ge307XG5cbiAgICAgICAgbGV0IGEgPSB7XG4gICAgICAgICAgICBpbjogYm91bmRzLl9zb3V0aFdlc3QubG5nICsgJywnICtcbiAgICAgICAgICAgIGJvdW5kcy5fbm9ydGhFYXN0LmxhdCArICcsJyArXG4gICAgICAgICAgICBib3VuZHMuX25vcnRoRWFzdC5sbmcgKyAnLCcgK1xuICAgICAgICAgICAgYm91bmRzLl9zb3V0aFdlc3QubGF0ICsgJywnLFxuICAgICAgICAgICAgem9vbTogem9vbSxcbiAgICAgICAgICAgIGM6IGNlbnRlci5sYXQgKyAnLCcgKyBjZW50ZXIubG5nXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuZWRUYXJnZXQgPSBPYmplY3QuYXNzaWduKGEsIGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuZWRUYXJnZXQgPSBhO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIGRhdGE6IHJldHVybmVkVGFyZ2V0LFxuICAgICAgICAgICAgdXJsOiBcIi9mcm9udC1lbmQvbWFwP1wiLFxuICAgICAgICAgICAgc3VjY2VzczogKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdHNTZXR0aW5ncyA9IHJlc3VsdHMuc2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgdGhpcy5nZW9Kc29uTGF5ZXIuY2xlYXJMYXllcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdlb0pzb25MYXllci5hZGREYXRhKHJlc3VsdHMub2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2F2ZVZpZXdwb3J0KGNlbnRlcikge1xuICAgICAgICBsZXQgem9vbSA9IHRoaXMubWFwLmdldFpvb20oKTtcbiAgICAgICAgbGV0IGEgPSB7XG4gICAgICAgICAgICB6b29tOiB6b29tLFxuICAgICAgICAgICAgYzogY2VudGVyLmxhdCArICcsJyArIGNlbnRlci5sbmdcbiAgICAgICAgfTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgZGF0YTogYSxcbiAgICAgICAgICAgIHVybDogXCIvbWFwL3pcIixcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChyZXN1bHRzKSA9PiB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9jYXRlKCkge1xuICAgICAgICB0aGlzLmxvYWRpbmcucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICB0aGlzLm1hcC5sb2NhdGUoe1xuICAgICAgICAgICAgc2V0VmlldzogdHJ1ZSxcbiAgICAgICAgICAgIG1heFpvb206IHRoaXMub2JqZWN0c1NldHRpbmdzLmRlZmF1bHRfem9vbVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRNYXBWaWV3VG9NeUxvY2F0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgbGV0IHJhZGl1cyA9IGUuYWNjdXJhY3kgLyAyO1xuXG4gICAgICAgIHRoaXMubXlMb2NhdGlvbkxheWVyR3JvdXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5teUxvY2F0aW9uTGF5ZXJHcm91cC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBjZW50ZXIgPSBMLmNpcmNsZShlLmxhdGxuZywge1xuICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgIGZpbGxDb2xvcjogJyMyQTkzRUUnLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDEsXG4gICAgICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgcmFkaXVzOiA1XG4gICAgICAgIH0pLmFkZFRvKHRoaXMubXlMb2NhdGlvbkxheWVyR3JvdXApO1xuXG4gICAgICAgIEwuY2lyY2xlKGUubGF0bG5nLCB7XG4gICAgICAgICAgICByYWRpdXM6IGUuYWNjdXJhY3kgLyAyLFxuICAgICAgICAgICAgY29sb3I6ICcjMTM2QUVDJyxcbiAgICAgICAgICAgIGZpbGxDb2xvcjogJyMxMzZBRUMnLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMTUsXG4gICAgICAgICAgICB3ZWlnaHQ6IDBcbiAgICAgICAgfSkuYWRkVG8odGhpcy5teUxvY2F0aW9uTGF5ZXJHcm91cCk7XG5cbiAgICAgICAgY2VudGVyLmJpbmRQb3B1cChcItCd0LDQvNC40YDQsNGC0LUg0YHQtSDQsiDRgNCw0LTQuNGD0YEg0L7RgiBcIiArIHJhZGl1cyArIFwiINC80LXRgtGA0LAg0L7RgiDRgtCw0LfQuCDQu9C+0LrQsNGG0LjRj1wiLCB7XG4gICAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgLTEwKVxuICAgICAgICB9KTtcbiAgICAgICAgY2VudGVyLm9wZW5Qb3B1cCgpO1xuICAgIH1cblxuICAgIHNldEluaXRpYWxNYXBWaWV3KCkge1xuICAgICAgICB0aGlzLmxvYWRpbmcuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuXG4gICAgICAgIGxldCB6b29tO1xuICAgICAgICBsZXQgbGF0O1xuICAgICAgICBsZXQgbG5nO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IFwiL21hcC9wXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiAocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHpvb20gPSByZXN1bHRzLnpvb207XG4gICAgICAgICAgICAgICAgbGF0ID0gcmVzdWx0cy5sYXQ7XG4gICAgICAgICAgICAgICAgbG5nID0gcmVzdWx0cy5sbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZWFsSW5pdGlhbE1hcFZpZXcobGF0LCBsbmcsIHpvb20pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFJlYWxJbml0aWFsTWFwVmlldyhsYXQsIGxuZywgem9vbSkge1xuICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFtsYXQsIGxuZ10sIHpvb20pXG4gICAgfVxuXG4gICAgem9vbVRvTGF5ZXIobGF5ZXIsIGV2KSB7XG4gICAgICAgIGxldCBjbGlja0Nvb3JkaW5hdGVzID0gZXYubGF0bG5nO1xuICAgICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLl96b29tICYmIGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5fem9vbSAhPT0gdGhpcy5tYXAuZ2V0Wm9vbSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KGNsaWNrQ29vcmRpbmF0ZXMsIGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5fem9vbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KGNsaWNrQ29vcmRpbmF0ZXMpO1xuXG4gICAgICAgICAgICB0aGlzLnNhdmVWaWV3cG9ydChjbGlja0Nvb3JkaW5hdGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wZW5MYXllclBvcHVwKGxheWVyLCBldikge1xuICAgICAgICBsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuYWN0aXZlUG9wdXAgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldExheWVyQWN0aXZlU3R5bGUobGF5ZXIpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbFBvcHVwcygpO1xuXG4gICAgICAgIGxldCBjb29yZGluYXRlcztcblxuXG4gICAgICAgIGlmIChsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuX2JlaGF2aW9yID09PSAnc3VydmV5Jykge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSB0aGlzLm1hcC5tb3VzZUV2ZW50VG9MYXRMbmcoZXYub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICBpZiAobWFwT3B0aW9uLnN1cnZleSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIG9wZW5Db25maXJtTW9kYWwobGF5ZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3VydmV5RGF0YShsYXllciwgZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSBldi5sYXRsbmc7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBwb3B1cExheWVyID0gTC5jaXJjbGUoY29vcmRpbmF0ZXMsIHtcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxuICAgICAgICAgICAgd2VpZ2h0OiAwLFxuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIHJhZGl1czogMVxuICAgICAgICB9KS5hZGRUbyh0aGlzLnBvcHVzTGF5ZXJHcm91cCk7XG5cblxuICAgICAgICBjb25zdCBzdXJ2ZXlUZW1wbGF0ZSA9IGBcbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8IS0tIDxmb3JtIG1ldGhvZD1cInBvc3RcIiBjbGFzcz1cIm0tZm9ybVwiIGFjdGlvbj1cIi9mcm9udC1lbmQvZ2VvLWNvbGxlY3Rpb24vYWRkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImdlby1vYmplY3RcIiB2YWx1ZT1cIiR7bGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmlkfVwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj4ke2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZH08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Zvcm0+IC0tPlxuICAgICAgICAgICAgICAgICR7bGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLnR5cGV9PGJyIC8+JHtsYXllci5mZWF0dXJlLnByb3BlcnRpZXMubmFtZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdXJ2ZXktbW9kYWxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIHB5LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGQgbWItM1wiIGRhdGEtY29uZmlybS10aXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCY0YHQutCw0YLQtSDQu9C4INC00LAg0L7RhtC10L3QuNGC0LVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g1PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLXN1cnZleS1vcGVuIGRhdGEtdXJsPVwiJHsgYXBpRW5kcG9pbnRzLmdlbyArIGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZCB9XCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgbXItMyBweC00XCI+0JTQkDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1jb25maXJtLWNhbmNlbCBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGN1cnNvci1wb2ludGVyIHB4LTRcIj7QndCVPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuXG4gICAgICAgIGNvbnN0IHBvcHVwQ29udGVudCA9IHN1cnZleVRlbXBsYXRlO1xuXG4gICAgICAgIHBvcHVwTGF5ZXIuYmluZFBvcHVwKHBvcHVwQ29udGVudCwge1xuICAgICAgICAgICAgb2Zmc2V0OiBMLnBvaW50KDAsIC0yMClcbiAgICAgICAgfSkub24oJ3BvcHVwY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpcm1Nb2RhbC5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgICAgICBsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuYWN0aXZlUG9wdXAgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0TGF5ZXJEZWZhdWx0U3R5bGUobGF5ZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxQb3B1cHMoKTtcbiAgICAgICAgfSkub3BlblBvcHVwKCk7XG5cbiAgICAgICAgbGV0IGNvbGxlY3Rpb24gPSBtYXBPcHRpb24uY29sbGVjdGlvbjtcblxuICAgICAgICBpZiAodHlwZW9mIGNvbGxlY3Rpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogJy9mcm9udC1lbmQvZ2VvLWNvbGxlY3Rpb24vYWRkJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdnZW8tb2JqZWN0JzogbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmlkLFxuICAgICAgICAgICAgICAgICAgICAnY29sbGVjdGlvbic6IGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUFsbFBvcHVwcygpIHtcbiAgICAgICAgdGhpcy5tYXAuY2xvc2VQb3B1cCgpO1xuICAgICAgICB0aGlzLnBvcHVzTGF5ZXJHcm91cC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBvcHVzTGF5ZXJHcm91cC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldExheWVyRGVmYXVsdFN0eWxlKGxheWVyKSB7XG4gICAgICAgIGxheWVyLnNldFN0eWxlKHRoaXMub2JqZWN0c1NldHRpbmdzLnN0eWxlc1tsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuX3MxXSB8fCBkZWZhdWx0T2JqZWN0U3R5bGUpXG4gICAgfVxuXG4gICAgc2V0TGF5ZXJIb3ZlclN0eWxlKGxheWVyKSB7XG4gICAgICAgIGxheWVyLnNldFN0eWxlKHRoaXMub2JqZWN0c1NldHRpbmdzLnN0eWxlc1tsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuX3MyXSlcbiAgICB9XG5cbiAgICBzZXRMYXllckFjdGl2ZVN0eWxlKGxheWVyKSB7XG4gICAgICAgIHN3aXRjaCAobGF5ZXIuZmVhdHVyZS5nZW9tZXRyeS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgICAgICBsYXllci5zZXRTdHlsZSh0aGlzLm9iamVjdHNTZXR0aW5ncy5zdHlsZXNbJ29uX2RpYWxvZ19wb2ludCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBsYXllci5zZXRTdHlsZSh0aGlzLm9iamVjdHNTZXR0aW5ncy5zdHlsZXNbJ29uX2RpYWxvZ19saW5lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgICAgICAgICBsYXllci5zZXRTdHlsZSh0aGlzLm9iamVjdHNTZXR0aW5ncy5zdHlsZXNbJ29uX2RpYWxvZ19wb2x5Z29uJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3VydmV5KHZvdGVTdXJ2YXkpIHtcbiAgICAgICAgdGhpcy52b3RlU3VydmF5ID0gdm90ZVN1cnZheTtcbiAgICB9XG5cbiAgICBzZXRTdXJ2ZXlEYXRhKGxheWVyLCBldikge1xuICAgICAgICB0aGlzLnZvdGVTdXJ2YXkuc2V0TGF5ZXJEYXRhKGxheWVyLCBldik7XG4gICAgfVxuXG4gICAgLy8gY2xvc2VTdXJ2ZXkoKSA9PiB7XG4gICAgICAgIC8vIHBhdGhWb3RlU3VydmV5LmNsb3NlKCk7XG4gICAgLy8gfVxufTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFzc2V0cy9mcm9udC9qcy9tYXAtbWFpbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFDQTtBQVFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBDQTtBQUNBO0FBc0NBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU9BOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQURBO0FBR0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFPQTtBQUNBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*const mapBoxUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';*/\nvar mapBoxUrl = exports.mapBoxUrl = 'https://gradska-sreda.dreamradio.org/map/styles/vs/{z}/{x}/{y}.png';\nvar mapBoxAttribution = exports.mapBoxAttribution = '&copy <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\n\nvar defaultObjectStyle = exports.defaultObjectStyle = {\n    color: \"#ff9710\",\n    opacity: 0.5,\n    width: 5,\n    mapActiveArea: {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        width: '100%',\n        height: '100%'\n    }\n};\n\nvar apiEndpoints = exports.apiEndpoints = {\n    geo: '/geo/'\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvbWFwLWNvbmZpZy5qcz8xNWU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qY29uc3QgbWFwQm94VXJsID0gJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJzsqL1xuZXhwb3J0IGNvbnN0IG1hcEJveFVybCA9ICdodHRwczovL2dyYWRza2Etc3JlZGEuZHJlYW1yYWRpby5vcmcvbWFwL3N0eWxlcy92cy97en0ve3h9L3t5fS5wbmcnO1xuZXhwb3J0IGNvbnN0IG1hcEJveEF0dHJpYnV0aW9uID0gYCZjb3B5IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnNgO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdE9iamVjdFN0eWxlID0ge1xuICAgIGNvbG9yOiBcIiNmZjk3MTBcIixcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgd2lkdGg6IDUsXG4gICAgbWFwQWN0aXZlQXJlYToge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAnMCcsXG4gICAgICAgIGxlZnQ6ICcwJyxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGFwaUVuZHBvaW50cyA9IHtcbiAgICBnZW86ICcvZ2VvLydcbn07XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFzc2V0cy9mcm9udC9qcy9tYXAtY29uZmlnLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUpBO0FBQ0E7QUFZQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Survey = exports.Survey = function () {\n    // Precents \n\n    function Survey(mapInstance) {\n        _classCallCheck(this, Survey);\n\n        this.geoObjectUUID = '';\n        this.mapAreaHeight = 100;\n\n        this.mapInstance = mapInstance;\n        this.pathVoteSurveyContaineEl = document.getElementById('path-vote-suevey');\n        if (!this.pathVoteSurveyContaineEl) {\n            return;\n        }\n        this.surveayForm = this.pathVoteSurveyContaineEl.querySelector('#surveyForm');\n        this.events();\n    }\n\n    _createClass(Survey, [{\n        key: 'events',\n        value: function events() {\n            var _this = this;\n\n            $(document).on('click', '[data-survey-open]', function () {\n                _this.open(_this.layer, _this.ev);\n            });\n\n            $(document).on('click', '[data-survey-close]', function () {\n                _this.close();\n            });\n\n            $(document).on('input propertychange', '.answer', function (e) {\n                var target = e.target;\n                var data = {};\n                var debounceTime = 0;\n\n                if (target.tagName === 'TEXTAREA') {\n                    data = {\n                        'explanation': {\n                            \"answer\": target.id,\n                            \"text\": target.value\n                        }\n                    };\n\n                    debounceTime = 400;\n                } else {\n                    data = {\n                        'answer': target.value\n                    };\n                }\n\n                clearTimeout(_this.timeoutId);\n\n                _this.timeoutId = setTimeout(function () {\n                    _this.submitSurvay(data, target.value);\n                }, debounceTime);\n            });\n\n            $(document).on('click', '.rem', function () {\n                var value = _this.value;\n                $.ajax({\n                    type: \"POST\",\n                    url: '/geo/' + _this.geoObjectUUID + '/clear/' + value,\n\n                    success: function success() {\n                        getQuestions();\n                    }\n                });\n            });\n        }\n    }, {\n        key: 'getQuestions',\n        value: function getQuestions() {\n            var _this2 = this;\n\n            $.ajax({\n                url: '/geo/' + this.geoObjectUUID + '/q',\n                success: function success(result) {\n                    _this2.onSuccess(result);\n                }\n            });\n        }\n    }, {\n        key: 'submitSurvay',\n        value: function submitSurvay(data, value) {\n            var _this3 = this;\n\n            $.ajax({\n                type: 'POST',\n                url: '/geo/' + this.geoObjectUUID + '/q',\n                data: data,\n                beforeSend: function beforeSend() {\n                    if (document.getElementById(value)) {\n                        document.getElementById(value).style.color = \"green\";\n                    }\n                },\n                success: function success(result) {\n                    _this3.onSuccess(result);\n                }\n            });\n        }\n    }, {\n        key: 'onSuccess',\n        value: function onSuccess(result) {\n            var html = '';\n            var survey = result.survey;\n            var progress = result.progress;\n            var isSelectedParent = false;\n\n            Object.keys(survey).forEach(function (item) {\n                var answers = survey[item].answers;\n                var question = survey[item];\n\n                html += '<div class=\"survay-question mb-4\">\\n                        <div class=\"survay-question-title  mb-1\">\\n                            <i class=\"mr-1 fas ' + (question.isAnswered ? 'text-success fa-check' : 'fa-check text-black-50') + '\"></i>\\n                            <h5 class=\"survay-question-title-text d-inline\">' + question.title + '</h5>\\n                        </div>\\n                        <div class=\"survay-question pl-4\">';\n\n                Object.keys(answers).forEach(function (answer) {\n                    if (answers[answer].parent === null) {\n                        isSelectedParent = question.answers[answer].isSelected;\n\n                        html += '<div class=\"d-flex flex-column\">\\n                                <label class=\"survay-question-option ' + (answers[answer].isSelected ? 'is-answered' : '') + '\" id=\"' + answers[answer].uuid + '\">\\n                                    <input class=\"mr-1 answer\" type=\"' + (question.hasMultipleAnswers ? 'checkbox' : 'radio') + '\" name=\"answers[option][' + question.uuid + '][]\"\\n                                    ' + (answers[answer].isSelected ? 'checked=\"checked\"' : '') + ' value=\"' + answers[answer].uuid + '\" /> ' + answers[answer].title + '\\n                                </label>\\n                            </div>';\n\n                        if (question.answers[answer].isFreeAnswer) {\n                            html += '<textarea class=\"answer\"></textarea>';\n                        }\n                    } else {\n                        if (isSelectedParent === true) {\n                            html += '<div class=\"pl-4 d-flex flex-column\">\\n                                    <label class=\"survay-question-option ' + (answers[answer].isSelected ? 'is-answered' : '') + '\" id=\"' + answers[answer].uuid + '\">\\n                                        <input class=\"mr-1  answer\" type=\"checkbox\" name=\"answers[option][' + question.uuid + '][]\"' + (answers[answer].isSelected ? 'checked=\"checked\"' : '') + ' value=\"' + answers[answer].uuid + '\" />\\n                                        ' + answers[answer].title + '</label>';\n\n                            if (answers[answer].isSelected && question.answers[answer].isFreeAnswer) {\n                                html += '<label class=\"' + (answers[answer].isSelected ? 'is-answered' : '') + '\">\\n                                        <textarea class=\"answer d-block\" id=\"textarea-' + question.answers[answer].uuid + ']\">' + question.answers[answer].explanation + '</textarea>\\n                                    </label>';\n                            }\n\n                            html += '</div>';\n                        }\n                    }\n                });\n\n                if (question.isAnswered) {\n                    html += '<div class=\"d-flex justify-content-end\">\\n                            <button type=\"button\" class=\"rem btn btn-sm btn-danger\" name=\"answers[option][' + question.uuid + '][]\" value=\"' + question.uuid + '\">\\u0418\\u0437\\u0447\\u0438\\u0441\\u0442\\u0438</button>\\n                        </div>';\n                }\n\n                html += '\\n                        </div>\\n                    </div>\\n                    ';\n            });\n\n            this.surveayForm.innerHTML = html;\n\n            var progressHTML = '<div class=\"progress mb-4\">\\n                                <div class=\"progress-bar ' + (progress.percentage === 100 ? 'bg-success' : '') + '\" role=\"progressbar\" style=\"width: ' + progress.percentage + '%;\"\\n                                 aria-valuenow=\"' + progress.percentage + '\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\\n                            </div>';\n            if (progress.percentage === 100) {\n                progressHTML += '<div class=\"mt-3\">\\n                                <a href=\"/geo/' + this.geoObjectUUID + '/result\" class=\"btn btn-primary rounded-0 pt-2\">\\u0412\\u0438\\u0436 \\u0440\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433\\u0430</a>\\n                            </div>';\n            }\n\n            $('#surveyProgressBar').html(progressHTML);\n        }\n    }, {\n        key: 'setLayerData',\n        value: function setLayerData(layer, ev) {\n            this.layer = layer;\n            this.event = ev;\n            this.geoObjectUUID = this.layer.feature.properties.id;\n            this.getQuestions();\n        }\n    }, {\n        key: 'open',\n        value: function open(layer, ev) {\n            if (layer && ev) {\n                this.setLayerData(layer, ev);\n            }\n\n            this.pathVoteSurveyContaineEl.querySelector('.geo-object-name').textContent = this.layer.feature.properties.name;\n            this.pathVoteSurveyContaineEl.querySelector('.geo-object-type').textContent = this.layer.feature.properties.type;\n            this.pathVoteSurveyContaineEl.classList.add('active');\n\n            this.lastCenterPoint = this.event.latlng;\n            var surveyHeight = parseFloat(getComputedStyle(this.pathVoteSurveyContaineEl).getPropertyValue('--suevey-height'));\n            var activeAreaHeight = this.mapAreaHeight - surveyHeight;\n\n            this.mapInstance.map.setActiveArea({\n                height: activeAreaHeight + '%'\n            });\n\n            this.mapInstance.zoomToLayer(this.layer, this.event);\n        }\n    }, {\n        key: 'close',\n        value: function close() {\n            this.pathVoteSurveyContaineEl.classList.remove('active');\n\n            this.mapInstance.map.setActiveArea({\n                height: this.mapAreaHeight + '%'\n            });\n            this.mapInstance.map.panTo(this.lastCenterPoint);\n        }\n    }]);\n\n    return Survey;\n}();\n\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvc3VydmV5LmpzPzU1NTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFN1cnZleSB7XG4gICAgbGF5ZXI7XG4gICAgZXZlbnQ7XG4gICAgZ2VvT2JqZWN0VVVJRCA9ICcnOyBcblxuICAgIHN1cnZlYXlGb3JtO1xuICAgIHRpbWVvdXRJZDtcbiAgICBtYXBJbnN0YW5jZTtcbiAgICBsYXN0Q2VudGVyUG9pbnQ7XG4gICAgcGF0aFZvdGVTdXJ2ZXlDb250YWluZUVsO1xuICAgIG1hcEFyZWFIZWlnaHQgPSAxMDA7IC8vIFByZWNlbnRzIFxuXG4gICAgY29uc3RydWN0b3IobWFwSW5zdGFuY2UpIHtcbiAgICAgICAgdGhpcy5tYXBJbnN0YW5jZSA9IG1hcEluc3RhbmNlO1xuICAgICAgICB0aGlzLnBhdGhWb3RlU3VydmV5Q29udGFpbmVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXRoLXZvdGUtc3VldmV5Jyk7XG4gICAgICAgIGlmICghdGhpcy5wYXRoVm90ZVN1cnZleUNvbnRhaW5lRWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1cnZlYXlGb3JtID0gdGhpcy5wYXRoVm90ZVN1cnZleUNvbnRhaW5lRWwucXVlcnlTZWxlY3RvcignI3N1cnZleUZvcm0nKTtcbiAgICAgICAgdGhpcy5ldmVudHMoKTtcbiAgICB9XG5cbiAgICBldmVudHMoKSB7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1zdXJ2ZXktb3Blbl0nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9wZW4odGhpcy5sYXllciwgdGhpcy5ldik7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLXN1cnZleS1jbG9zZV0nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdpbnB1dCBwcm9wZXJ0eWNoYW5nZScsICcuYW5zd2VyJywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgICAgICAgIGxldCBkZWJvdW5jZVRpbWUgPSAwO1xuICAgIFxuICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ2V4cGxhbmF0aW9uJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJhbnN3ZXJcIjogdGFyZ2V0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IHRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICAgICAgZGVib3VuY2VUaW1lID0gNDAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAnYW5zd2VyJzogdGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgIFxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTsgXG4gICAgXG4gICAgICAgICAgICB0aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0U3VydmF5KGRhdGEsIHRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgIH0sIGRlYm91bmNlVGltZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucmVtJywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2dlby8nICsgdGhpcy5nZW9PYmplY3RVVUlEICsgJy9jbGVhci8nICsgdmFsdWUsXG4gICAgXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnZXRRdWVzdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICBnZXRRdWVzdGlvbnMoKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvZ2VvLycgKyB0aGlzLmdlb09iamVjdFVVSUQgKyAnL3EnLFxuICAgICAgICAgICAgc3VjY2VzczogKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgdGhpcy5vblN1Y2Nlc3MocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3VibWl0U3VydmF5KGRhdGEsIHZhbHVlKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6ICcvZ2VvLycgKyB0aGlzLmdlb09iamVjdFVVSUQgKyAnL3EnLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZhbHVlKS5zdHlsZS5jb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25TdWNjZXNzKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBvblN1Y2Nlc3MocmVzdWx0KSB7XG4gICAgICAgIGxldCBodG1sID0gYGA7XG4gICAgICAgIGxldCBzdXJ2ZXkgPSByZXN1bHQuc3VydmV5O1xuICAgICAgICBsZXQgcHJvZ3Jlc3MgPSByZXN1bHQucHJvZ3Jlc3M7XG4gICAgICAgIGxldCBpc1NlbGVjdGVkUGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoc3VydmV5KS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgYW5zd2VycyA9IHN1cnZleVtpdGVtXS5hbnN3ZXJzO1xuICAgICAgICAgICAgbGV0IHF1ZXN0aW9uID0gc3VydmV5W2l0ZW1dO1xuXG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwic3VydmF5LXF1ZXN0aW9uIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdXJ2YXktcXVlc3Rpb24tdGl0bGUgIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cIm1yLTEgZmFzIGAgKyAocXVlc3Rpb24uaXNBbnN3ZXJlZCA/ICd0ZXh0LXN1Y2Nlc3MgZmEtY2hlY2snIDogJ2ZhLWNoZWNrIHRleHQtYmxhY2stNTAnKSArIGBcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwic3VydmF5LXF1ZXN0aW9uLXRpdGxlLXRleHQgZC1pbmxpbmVcIj5gICsgcXVlc3Rpb24udGl0bGUgKyBgPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1cnZheS1xdWVzdGlvbiBwbC00XCI+YDtcblxuICAgICAgICAgICAgT2JqZWN0LmtleXMoYW5zd2VycykuZm9yRWFjaCgoYW5zd2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFuc3dlcnNbYW5zd2VyXS5wYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZFBhcmVudCA9IHF1ZXN0aW9uLmFuc3dlcnNbYW5zd2VyXS5pc1NlbGVjdGVkO1xuXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCJkLWZsZXggZmxleC1jb2x1bW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic3VydmF5LXF1ZXN0aW9uLW9wdGlvbiBgICsgKGFuc3dlcnNbYW5zd2VyXS5pc1NlbGVjdGVkID8gJ2lzLWFuc3dlcmVkJyA6ICcnKSArIGBcIiBpZD1cImAgKyBhbnN3ZXJzW2Fuc3dlcl0udXVpZCArIGBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cIm1yLTEgYW5zd2VyXCIgdHlwZT1cImAgKyAocXVlc3Rpb24uaGFzTXVsdGlwbGVBbnN3ZXJzID8gJ2NoZWNrYm94JyA6ICdyYWRpbycpICsgYFwiIG5hbWU9XCJhbnN3ZXJzW29wdGlvbl1bYCArIHF1ZXN0aW9uLnV1aWQgKyBgXVtdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgKyAoYW5zd2Vyc1thbnN3ZXJdLmlzU2VsZWN0ZWQgPyAnY2hlY2tlZD1cImNoZWNrZWRcIicgOiAnJykgKyBgIHZhbHVlPVwiYCArIGFuc3dlcnNbYW5zd2VyXS51dWlkICsgYFwiIC8+IGAgKyBhbnN3ZXJzW2Fuc3dlcl0udGl0bGUgKyBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocXVlc3Rpb24uYW5zd2Vyc1thbnN3ZXJdLmlzRnJlZUFuc3dlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPHRleHRhcmVhIGNsYXNzPVwiYW5zd2VyXCI+PC90ZXh0YXJlYT5gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWRQYXJlbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCJwbC00IGQtZmxleCBmbGV4LWNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic3VydmF5LXF1ZXN0aW9uLW9wdGlvbiBgICsgKGFuc3dlcnNbYW5zd2VyXS5pc1NlbGVjdGVkID8gJ2lzLWFuc3dlcmVkJyA6ICcnKSArIGBcIiBpZD1cImAgKyBhbnN3ZXJzW2Fuc3dlcl0udXVpZCArIGBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJtci0xICBhbnN3ZXJcIiB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiYW5zd2Vyc1tvcHRpb25dW2AgKyBxdWVzdGlvbi51dWlkICsgYF1bXVwiYCArIChhbnN3ZXJzW2Fuc3dlcl0uaXNTZWxlY3RlZCA/ICdjaGVja2VkPVwiY2hlY2tlZFwiJyA6ICcnKSArIGAgdmFsdWU9XCJgICsgYW5zd2Vyc1thbnN3ZXJdLnV1aWQgKyBgXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgICsgYW5zd2Vyc1thbnN3ZXJdLnRpdGxlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA8L2xhYmVsPmA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbnN3ZXJzW2Fuc3dlcl0uaXNTZWxlY3RlZCAmJiBxdWVzdGlvbi5hbnN3ZXJzW2Fuc3dlcl0uaXNGcmVlQW5zd2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGxhYmVsIGNsYXNzPVwiYCArIChhbnN3ZXJzW2Fuc3dlcl0uaXNTZWxlY3RlZCA/ICdpcy1hbnN3ZXJlZCcgOiAnJykgKyBgXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiYW5zd2VyIGQtYmxvY2tcIiBpZD1cInRleHRhcmVhLWAgKyBxdWVzdGlvbi5hbnN3ZXJzW2Fuc3dlcl0udXVpZCArIGBdXCI+YCArIHF1ZXN0aW9uLmFuc3dlcnNbYW5zd2VyXS5leHBsYW5hdGlvbiArIGA8L3RleHRhcmVhPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChxdWVzdGlvbi5pc0Fuc3dlcmVkKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJyZW0gYnRuIGJ0bi1zbSBidG4tZGFuZ2VyXCIgbmFtZT1cImFuc3dlcnNbb3B0aW9uXVtgICsgcXVlc3Rpb24udXVpZCArIGBdW11cIiB2YWx1ZT1cImAgKyBxdWVzdGlvbi51dWlkICsgYFwiPtCY0LfRh9C40YHRgtC4PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBodG1sICs9IGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgYDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdXJ2ZWF5Rm9ybS5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgIGxldCBwcm9ncmVzc0hUTUwgPSBgPGRpdiBjbGFzcz1cInByb2dyZXNzIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhciBgICsgKHByb2dyZXNzLnBlcmNlbnRhZ2UgPT09IDEwMCA/ICdiZy1zdWNjZXNzJyA6ICcnKSArIGBcIiByb2xlPVwicHJvZ3Jlc3NiYXJcIiBzdHlsZT1cIndpZHRoOiBgICsgcHJvZ3Jlc3MucGVyY2VudGFnZSArIGAlO1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLXZhbHVlbm93PVwiYCArIHByb2dyZXNzLnBlcmNlbnRhZ2UgKyBgXCIgYXJpYS12YWx1ZW1pbj1cIjBcIiBhcmlhLXZhbHVlbWF4PVwiMTAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgaWYgKHByb2dyZXNzLnBlcmNlbnRhZ2UgPT09IDEwMCkge1xuICAgICAgICAgICAgcHJvZ3Jlc3NIVE1MICs9IGA8ZGl2IGNsYXNzPVwibXQtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiL2dlby8keyB0aGlzLmdlb09iamVjdFVVSUQgfS9yZXN1bHRcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSByb3VuZGVkLTAgcHQtMlwiPtCS0LjQtiDRgNC10LnRgtC40L3Qs9CwPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjc3VydmV5UHJvZ3Jlc3NCYXInKS5odG1sKHByb2dyZXNzSFRNTCk7XG4gICAgfVxuXG4gICAgc2V0TGF5ZXJEYXRhKGxheWVyLCBldikge1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBldjtcbiAgICAgICAgdGhpcy5nZW9PYmplY3RVVUlEID0gdGhpcy5sYXllci5mZWF0dXJlLnByb3BlcnRpZXMuaWQ7XG4gICAgICAgIHRoaXMuZ2V0UXVlc3Rpb25zKCk7XG4gICAgfVxuXG4gICAgb3BlbihsYXllciwgZXYpIHtcbiAgICAgICAgaWYgKGxheWVyICYmIGV2KSB7XG4gICAgICAgICAgICB0aGlzLnNldExheWVyRGF0YShsYXllciwgZXYpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYXRoVm90ZVN1cnZleUNvbnRhaW5lRWwucXVlcnlTZWxlY3RvcignLmdlby1vYmplY3QtbmFtZScpLnRleHRDb250ZW50ID0gdGhpcy5sYXllci5mZWF0dXJlLnByb3BlcnRpZXMubmFtZTtcbiAgICAgICAgdGhpcy5wYXRoVm90ZVN1cnZleUNvbnRhaW5lRWwucXVlcnlTZWxlY3RvcignLmdlby1vYmplY3QtdHlwZScpLnRleHRDb250ZW50ID0gdGhpcy5sYXllci5mZWF0dXJlLnByb3BlcnRpZXMudHlwZTtcbiAgICAgICAgdGhpcy5wYXRoVm90ZVN1cnZleUNvbnRhaW5lRWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICAgICAgdGhpcy5sYXN0Q2VudGVyUG9pbnQgPSB0aGlzLmV2ZW50LmxhdGxuZztcbiAgICAgICAgY29uc3Qgc3VydmV5SGVpZ2h0ID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKHRoaXMucGF0aFZvdGVTdXJ2ZXlDb250YWluZUVsKS5nZXRQcm9wZXJ0eVZhbHVlKCctLXN1ZXZleS1oZWlnaHQnKSk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUFyZWFIZWlnaHQgPSB0aGlzLm1hcEFyZWFIZWlnaHQgLSBzdXJ2ZXlIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5tYXBJbnN0YW5jZS5tYXAuc2V0QWN0aXZlQXJlYSh7XG4gICAgICAgICAgICBoZWlnaHQ6IGFjdGl2ZUFyZWFIZWlnaHQgKyAnJScsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubWFwSW5zdGFuY2Uuem9vbVRvTGF5ZXIodGhpcy5sYXllciwgdGhpcy5ldmVudCk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMucGF0aFZvdGVTdXJ2ZXlDb250YWluZUVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXG4gICAgICAgIHRoaXMubWFwSW5zdGFuY2UubWFwLnNldEFjdGl2ZUFyZWEoe1xuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1hcEFyZWFIZWlnaHQgKyAnJScsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcEluc3RhbmNlLm1hcC5wYW5Ubyh0aGlzLmxhc3RDZW50ZXJQb2ludCk7XG4gICAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhc3NldHMvZnJvbnQvanMvc3VydmV5LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFVQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTs7Ozs7O0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ })
/******/ ]);