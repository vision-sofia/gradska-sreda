/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*const mapBoxUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';*/\nvar mapBoxUrl = 'https://gradska-sreda.dreamradio.org/map/styles/vs/{z}/{x}/{y}.png';\nvar mapBoxAttribution = '&copy <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\n\nexports.mapBoxUrl = mapBoxUrl;\nexports.mapBoxAttribution = mapBoxAttribution;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvbWFwLWNvbmZpZy5qcz8xNWU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qY29uc3QgbWFwQm94VXJsID0gJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJzsqL1xuY29uc3QgbWFwQm94VXJsID0gJ2h0dHBzOi8vZ3JhZHNrYS1zcmVkYS5kcmVhbXJhZGlvLm9yZy9tYXAvc3R5bGVzL3ZzL3t6fS97eH0ve3l9LnBuZyc7XG5jb25zdCBtYXBCb3hBdHRyaWJ1dGlvbiA9IGAmY29weSA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzYDtcblxuZXhwb3J0IHttYXBCb3hVcmwsIG1hcEJveEF0dHJpYnV0aW9ufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFzc2V0cy9mcm9udC9qcy9tYXAtY29uZmlnLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(2);\n\n__webpack_require__(3);\n\n__webpack_require__(4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvbWFpbi5qcz82NTJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnbWFwLW1haW4nXG5pbXBvcnQgJ21hcC1taW5pJ1xuaW1wb3J0ICdzdXJ2ZXknXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXNzZXRzL2Zyb250L2pzL21haW4uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mapConfig = __webpack_require__(0);\n\n(function () {\n    if (!document.getElementById('mapMain')) {\n        return;\n    }\n    var loading = $('.loading');\n    var confirmModal = $('.confirm');\n    $(document).on('click', '[data-confirm-cancel]', function () {\n        removeAllPopups();\n    });\n\n    //const mapCenter = mapOption.center;\n    //const mapZoom = mapOption.zoom;\n\n    var defaultObjectStyle = {\n        color: \"#ff9710\",\n        opacity: 0.5,\n        width: 5\n    };\n    var objectsSettings = {};\n    var initialLoad = false;\n\n    var map = new L.map('mapMain', {\n        updateWhenZooming: false,\n        attributionControl: false\n    });\n\n    var mapStyle = L.tileLayer(_mapConfig.mapBoxUrl, {\n        attribution: _mapConfig.mapBoxAttribution,\n        maxNativeZoom: 19,\n        maxZoom: 21,\n        minZoom: 11,\n        updateWhenZooming: false\n    });\n    mapStyle.addTo(map);\n\n    var myLocationButton = L.Control.extend({\n        options: {\n            position: 'topleft'\n        },\n        onAdd: function onAdd() {\n            var container = L.DomUtil.create('button', 'leaflet-bar leaflet-control-custom far fa-dot-circle');\n            container.type = \"button\";\n            container.onclick = function () {\n                locate();\n            };\n            return container;\n        }\n    });\n    map.addControl(new myLocationButton());\n\n    var myLocationLayerGroup = L.layerGroup();\n    myLocationLayerGroup.addTo(map);\n\n    var popusLayerGroup = L.layerGroup();\n    popusLayerGroup.addTo(map);\n\n    var updateMapThrottle = void 0;\n    map.on('dragend zoomend', function () {\n        clearTimeout(updateMapThrottle);\n        updateMapThrottle = setTimeout(function () {\n            var center = map.getCenter();\n\n            updateMap(center, function () {\n                if (!initialLoad) {\n                    initialLoad = true;\n                    if ($('#mapMain').data('locate-on-load') === true) {\n                        locate();\n                    }\n                }\n            });\n        }, 200);\n    });\n\n    map.on('locationfound', setMapViewToMyLocation);\n    map.on('locationerror', setInitialMapView);\n\n    var geoJsonLayer = L.geoJSON([], {\n        addInteractive: true,\n        style: function style(feature) {\n            var styles = objectsSettings.styles[feature.properties._s1] ? _extends({}, objectsSettings.styles[feature.properties._s1]) : _extends({}, defaultObjectStyle);\n\n            if (feature.properties.type === 'Тротоар' && feature.properties._s1 === 'upr-uc') {\n                Object.assign(styles, {\n                    // // lineColorName: \"red\",\n                    // fill: false,\n                    // width: 20,\n                    // interactive: false,\n                    // hover: true,\n                    // border: true,\n                    // shadow:false,\n                    // transparent: false,\n                    // borderWidth: 20,\n                });\n            }\n            // console.log(styles)\n\n            return styles;\n        },\n        onEachFeature: function onEachFeature(feature, layer) {\n            if (layer.feature.properties.type === 'Тротоар' && layer.feature.properties._s1 === 'upr-uc') {\n                Object.assign(layer.options, {\n                    // lineColorName: \"red\",\n                    // fill: false,\n                    // width: 4,\n                    // interactive: false,\n                    // hover: true,\n                    // border: true,\n                    // shadow:false,\n                    // transparent: false,\n                    // borderWidth: 4,\n                });\n\n                console.log(layer);\n            }\n\n            layer.on('click', function (ev) {\n                switch (feature.properties._behavior) {\n                    case \"navigation\":\n                        zoomToLayer(layer, ev);\n                        break;\n                    default:\n                        openLayerPopup(layer, ev);\n                        zoomToLayer(layer, ev);\n                        break;\n                }\n            });\n            layer.on('mouseover', function () {\n                if (layer.feature.properties.activePopup) {\n                    return;\n                }\n                if (objectsSettings.styles[feature.properties._s2]) {\n                    setLayerHoverStyle(layer);\n                }\n            });\n            layer.on('mouseout', function () {\n                if (layer.feature.properties.activePopup) {\n                    return;\n                }\n                if (objectsSettings.styles[feature.properties._s1]) {\n                    setLayerDefaultStyle(layer);\n                }\n            });\n        },\n        pointToLayer: function pointToLayer(feature, latlng) {\n            return L.circleMarker(latlng, objectsSettings.styles[feature.properties._s1]);\n        }\n    }).addTo(map);\n\n    setInitialMapView();\n\n    function updateMap(center) {\n        var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n        var zoom = map.getZoom();\n        var bounds = map.getBounds();\n        var returnedTarget = {};\n\n        var a = {\n            in: bounds._southWest.lng + ',' + bounds._northEast.lat + ',' + bounds._northEast.lng + ',' + bounds._southWest.lat + ',',\n            zoom: zoom,\n            c: center.lat + ',' + center.lng\n        };\n\n        if (typeof b !== 'undefined') {\n            returnedTarget = Object.assign(a, b);\n        } else {\n            returnedTarget = a;\n        }\n\n        $.ajax({\n            data: returnedTarget,\n            url: \"/front-end/map?\",\n            success: function success(results) {\n                objectsSettings = results.settings;\n                geoJsonLayer.clearLayers();\n                geoJsonLayer.addData(results.objects);\n                console.log(results.objects);\n\n                // var aaa =\n                // L.geoJSON(results.objects,{\n                //     onEachFeature: function (feature, layer) {\n                //         layer.bindTooltip('Tooltip geoJSON');\n                //         layer.bindPopup('popup geoJSON');\n                //     },\n                //     draggable: true,\n                //     interactive: true,\n                //     lineColorName: 'red',\n                //     shadow: true,\n                //     addInteractive: true,\n\n                //     style: function(feature){\n                //         return {\n\n                //             polyline: {\n                //                 // lineColorName: \"red\",\n                //                 fill: false,\n                //                 width: 20,\n                //                 interactive: false,\n                //                 hover: true,\n                //                 border: true,\n                //                 shadow:false,\n                //                 transparent: false,\n                //                 borderWidth: 20,\n\n                //             }\n                //         }\n                //     },\n\n                // }).addTo(map);\n                fn();\n            }\n        });\n    }\n\n    function saveViewport(center) {\n        var zoom = map.getZoom();\n        var a = {\n            zoom: zoom,\n            c: center.lat + ',' + center.lng\n        };\n\n        $.ajax({\n            data: a,\n            url: \"/map/z\",\n            success: function success(results) {}\n        });\n    }\n\n    function locate() {\n        loading.removeClass('d-none');\n        map.locate({\n            setView: true,\n            maxZoom: objectsSettings.default_zoom\n        });\n    }\n\n    function setMapViewToMyLocation(e) {\n        loading.addClass('d-none');\n        var radius = e.accuracy / 2;\n\n        myLocationLayerGroup.eachLayer(function (layer) {\n            myLocationLayerGroup.removeLayer(layer);\n        });\n\n        var center = L.circle(e.latlng, {\n            color: '#fff',\n            fillColor: '#2A93EE',\n            fillOpacity: 1,\n            weight: 4,\n            opacity: 1,\n            radius: 5\n        }).addTo(myLocationLayerGroup);\n\n        L.circle(e.latlng, {\n            radius: e.accuracy / 2,\n            color: '#136AEC',\n            fillColor: '#136AEC',\n            fillOpacity: 0.15,\n            weight: 0\n        }).addTo(myLocationLayerGroup);\n\n        center.bindPopup(\"Намирате се в радиус от \" + radius + \" метра от тази локация\", {\n            offset: L.point(0, -10)\n        });\n        center.openPopup();\n    }\n\n    function setInitialMapView() {\n        loading.addClass('d-none');\n\n        var zoom = void 0;\n        var lat = void 0;\n        var lng = void 0;\n\n        $.ajax({\n            url: \"/map/p\",\n            success: function success(results) {\n                zoom = results.zoom;\n                lat = results.lat;\n                lng = results.lng;\n                setRealInitialMapView(lat, lng, zoom);\n            }\n        });\n    }\n\n    function setRealInitialMapView(lat, lng, zoom) {\n        map.setView([lat, lng], zoom);\n    }\n\n    function zoomToLayer(layer, ev) {\n        var clickCoordinates = map.mouseEventToLatLng(ev.originalEvent);\n        if (layer.feature.properties._zoom && layer.feature.properties._zoom !== map.getZoom()) {\n            map.setView(clickCoordinates, layer.feature.properties._zoom);\n        } else {\n            map.setView(clickCoordinates);\n\n            saveViewport(clickCoordinates);\n        }\n    }\n\n    function openLayerPopup(layer, ev) {\n        setLayerActiveStyle(layer);\n        removeAllPopups();\n        layer.feature.properties.activePopup = true;\n\n        var coordinates = void 0;\n\n        if (layer.feature.properties._behavior === 'survey') {\n            coordinates = map.mouseEventToLatLng(ev.originalEvent);\n            if (mapOption.survey === true) {\n                openConfirmModal(layer);\n            }\n        } else {\n            coordinates = ev.latlng;\n        }\n\n        var popupLayer = L.circle(coordinates, {\n            fillOpacity: 0,\n            weight: 0,\n            opacity: 0,\n            radius: 1\n        }).addTo(popusLayerGroup);\n\n        var popupContent = '<p class=\"text-center\"><!--<form method=\"post\" class=\"m-form\" action=\"/front-end/geo-collection/add\"><input type=\"hidden\" name=\"geo-object\" value=\"' + layer.feature.properties.id + '\"><button type=\"submit\">' + layer.feature.properties.id + '</button></form>-->' + layer.feature.properties.type + '<br />' + layer.feature.properties.name + '</p>';\n\n        popupLayer.bindPopup(popupContent, {\n            offset: L.point(0, -20)\n        }).on('popupclose', function () {\n            confirmModal.addClass('d-none');\n            layer.feature.properties.activePopup = false;\n            setLayerDefaultStyle(layer);\n            removeAllPopups();\n        }).openPopup();\n\n        var collection = mapOption.collection;\n\n        if (typeof collection !== 'undefined') {\n            $.ajax({\n                type: \"POST\",\n                url: '/front-end/geo-collection/add',\n                data: {\n                    'geo-object': layer.feature.properties.id,\n                    'collection': collection\n                },\n                success: function success() {\n                    updateMap();\n                }\n            });\n        }\n        /*\n                $(\".m-form\").submit(function(e) {\n                    var form = $(this);\n                    var url = form.attr('action');\n                     $.ajax({\n                        type: \"POST\",\n                        url: '/front-end/geo-collection/add',\n                        //data: form.serialize(),\n                        data: {\n                            'geo-object': 'cd538bf5-3220-4259-b26d-3488d71ca7d7'\n                        },\n                        success: function()\n                        {\n                            updateMap();\n                        }\n                    });\n                     e.preventDefault();\n                });\n        */\n    }\n\n    function openConfirmModal(layer) {\n        var dialogTitle = objectsSettings.dialog[layer.feature.properties._dtext] || 'Искате ли да оцените';\n        var dialogLink = '/geo/' + layer.feature.properties.id;\n        confirmModal.removeClass('d-none');\n        confirmModal.find('[data-confirm-title]').html(dialogTitle + '?');\n        confirmModal.find('[data-confirm-link]').attr('href', dialogLink);\n    }\n\n    function removeAllPopups() {\n        map.closePopup();\n        popusLayerGroup.eachLayer(function (layer) {\n            popusLayerGroup.removeLayer(layer);\n        });\n    }\n\n    function setLayerDefaultStyle(layer) {\n        layer.setStyle(objectsSettings.styles[layer.feature.properties._s1] || defaultObjectStyle);\n    }\n\n    function setLayerHoverStyle(layer) {\n        layer.setStyle(objectsSettings.styles[layer.feature.properties._s2]);\n    }\n\n    function setLayerActiveStyle(layer) {\n        switch (layer.feature.geometry.type) {\n            case \"Point\":\n                layer.setStyle(objectsSettings.styles['on_dialog_point']);\n                break;\n            case \"MultiLineString\":\n                layer.setStyle(objectsSettings.styles['on_dialog_line']);\n                break;\n            case \"Polygon\":\n                layer.setStyle(objectsSettings.styles['on_dialog_polygon']);\n                break;\n        }\n    }\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvbWFwLW1haW4uanM/NzkzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21hcEJveEF0dHJpYnV0aW9uLCBtYXBCb3hVcmx9IGZyb20gJy4vbWFwLWNvbmZpZyc7XG5cbigoKSA9PiB7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwTWFpbicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbG9hZGluZyA9ICQoJy5sb2FkaW5nJyk7XG4gICAgY29uc3QgY29uZmlybU1vZGFsID0gJCgnLmNvbmZpcm0nKTtcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtY29uZmlybS1jYW5jZWxdJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVBbGxQb3B1cHMoKTtcbiAgICB9KTtcblxuICAgIC8vY29uc3QgbWFwQ2VudGVyID0gbWFwT3B0aW9uLmNlbnRlcjtcbiAgICAvL2NvbnN0IG1hcFpvb20gPSBtYXBPcHRpb24uem9vbTtcblxuICAgIGNvbnN0IGRlZmF1bHRPYmplY3RTdHlsZSA9IHtcbiAgICAgICAgY29sb3I6IFwiI2ZmOTcxMFwiLFxuICAgICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICAgIHdpZHRoOiA1XG4gICAgfTtcbiAgICBsZXQgb2JqZWN0c1NldHRpbmdzID0ge307XG4gICAgbGV0IGluaXRpYWxMb2FkID0gZmFsc2U7XG5cbiAgICBsZXQgbWFwID0gbmV3IEwubWFwKCdtYXBNYWluJywge1xuICAgICAgICB1cGRhdGVXaGVuWm9vbWluZzogZmFsc2UsXG4gICAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogZmFsc2VcbiAgICB9KTtcblxuICAgIGxldCBtYXBTdHlsZSA9IEwudGlsZUxheWVyKG1hcEJveFVybCwge1xuICAgICAgICBhdHRyaWJ1dGlvbjogbWFwQm94QXR0cmlidXRpb24sXG4gICAgICAgIG1heE5hdGl2ZVpvb206IDE5LFxuICAgICAgICBtYXhab29tOiAyMSxcbiAgICAgICAgbWluWm9vbTogMTEsXG4gICAgICAgIHVwZGF0ZVdoZW5ab29taW5nOiBmYWxzZVxuICAgIH0pO1xuICAgIG1hcFN0eWxlLmFkZFRvKG1hcCk7XG5cbiAgICBsZXQgbXlMb2NhdGlvbkJ1dHRvbiA9IEwuQ29udHJvbC5leHRlbmQoe1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3RvcGxlZnQnXG4gICAgICAgIH0sXG4gICAgICAgIG9uQWRkOiAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJ2xlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbC1jdXN0b20gZmFyIGZhLWRvdC1jaXJjbGUnKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci50eXBlID0gXCJidXR0b25cIjtcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxvY2F0ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBtYXAuYWRkQ29udHJvbChuZXcgbXlMb2NhdGlvbkJ1dHRvbigpKTtcblxuICAgIGxldCBteUxvY2F0aW9uTGF5ZXJHcm91cCA9IEwubGF5ZXJHcm91cCgpO1xuICAgIG15TG9jYXRpb25MYXllckdyb3VwLmFkZFRvKG1hcCk7XG5cbiAgICBsZXQgcG9wdXNMYXllckdyb3VwID0gTC5sYXllckdyb3VwKCk7XG4gICAgcG9wdXNMYXllckdyb3VwLmFkZFRvKG1hcCk7XG5cbiAgICBsZXQgdXBkYXRlTWFwVGhyb3R0bGU7XG4gICAgbWFwLm9uKCdkcmFnZW5kIHpvb21lbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh1cGRhdGVNYXBUaHJvdHRsZSk7XG4gICAgICAgIHVwZGF0ZU1hcFRocm90dGxlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2VudGVyID0gbWFwLmdldENlbnRlcigpO1xuXG4gICAgICAgICAgICB1cGRhdGVNYXAoY2VudGVyLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbml0aWFsTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9hZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKCcjbWFwTWFpbicpLmRhdGEoJ2xvY2F0ZS1vbi1sb2FkJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMjAwKTtcbiAgICB9KTtcblxuICAgIG1hcC5vbignbG9jYXRpb25mb3VuZCcsIHNldE1hcFZpZXdUb015TG9jYXRpb24pO1xuICAgIG1hcC5vbignbG9jYXRpb25lcnJvcicsIHNldEluaXRpYWxNYXBWaWV3KTtcblxuICAgIGxldCBnZW9Kc29uTGF5ZXIgPSBMLmdlb0pTT04oW10sIHsgXG4gICAgICAgIGFkZEludGVyYWN0aXZlOiB0cnVlLCAgXG4gICAgICAgIHN0eWxlOiBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgbGV0IHN0eWxlcyA9IG9iamVjdHNTZXR0aW5ncy5zdHlsZXNbZmVhdHVyZS5wcm9wZXJ0aWVzLl9zMV0gPyB7Li4ub2JqZWN0c1NldHRpbmdzLnN0eWxlc1tmZWF0dXJlLnByb3BlcnRpZXMuX3MxXX0gOiB7Li4uZGVmYXVsdE9iamVjdFN0eWxlfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcy50eXBlID09PSAn0KLRgNC+0YLQvtCw0YAnICYmIGZlYXR1cmUucHJvcGVydGllcy5fczEgPT09ICd1cHItdWMnKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLy8gbGluZUNvbG9yTmFtZTogXCJyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWR0aDogMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhvdmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJvcmRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaGFkb3c6ZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJvcmRlcldpZHRoOiAyMCxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH0gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0eWxlcylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICAgICAgfSxcbiAgICAgICAgb25FYWNoRmVhdHVyZTogZnVuY3Rpb24gKGZlYXR1cmUsIGxheWVyKSB7XG4gICAgICAgICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLnR5cGUgPT09ICfQotGA0L7RgtC+0LDRgCcgJiYgbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLl9zMSA9PT0gJ3Vwci11YycpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgICAgICBsYXllci5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaW5lQ29sb3JOYW1lOiBcInJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWR0aDogNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhvdmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYm9yZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hhZG93OmZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYm9yZGVyV2lkdGg6IDQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxheWVyLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmVhdHVyZS5wcm9wZXJ0aWVzLl9iZWhhdmlvcikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibmF2aWdhdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbVRvTGF5ZXIobGF5ZXIsIGV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxheWVyUG9wdXAobGF5ZXIsIGV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21Ub0xheWVyKGxheWVyLCBldik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxheWVyLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5hY3RpdmVQb3B1cCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvYmplY3RzU2V0dGluZ3Muc3R5bGVzW2ZlYXR1cmUucHJvcGVydGllcy5fczJdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldExheWVySG92ZXJTdHlsZShsYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsYXllci5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5hY3RpdmVQb3B1cCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvYmplY3RzU2V0dGluZ3Muc3R5bGVzW2ZlYXR1cmUucHJvcGVydGllcy5fczFdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldExheWVyRGVmYXVsdFN0eWxlKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcG9pbnRUb0xheWVyOiBmdW5jdGlvbiAoZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgICByZXR1cm4gTC5jaXJjbGVNYXJrZXIobGF0bG5nLCBvYmplY3RzU2V0dGluZ3Muc3R5bGVzW2ZlYXR1cmUucHJvcGVydGllcy5fczFdKTtcbiAgICAgICAgfVxuICAgIH0pLmFkZFRvKG1hcCk7XG5cbiAgICBzZXRJbml0aWFsTWFwVmlldygpO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlTWFwKGNlbnRlciwgZm4gPSAoKSA9PiB7XG4gICAgfSkge1xuICAgICAgICBsZXQgem9vbSA9IG1hcC5nZXRab29tKCk7XG4gICAgICAgIGxldCBib3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCk7XG4gICAgICAgIGxldCByZXR1cm5lZFRhcmdldCA9IHt9O1xuXG4gICAgICAgIGxldCBhID0ge1xuICAgICAgICAgICAgaW46IGJvdW5kcy5fc291dGhXZXN0LmxuZyArICcsJyArXG4gICAgICAgICAgICBib3VuZHMuX25vcnRoRWFzdC5sYXQgKyAnLCcgK1xuICAgICAgICAgICAgYm91bmRzLl9ub3J0aEVhc3QubG5nICsgJywnICtcbiAgICAgICAgICAgIGJvdW5kcy5fc291dGhXZXN0LmxhdCArICcsJyxcbiAgICAgICAgICAgIHpvb206IHpvb20sXG4gICAgICAgICAgICBjOiBjZW50ZXIubGF0ICsgJywnICsgY2VudGVyLmxuZ1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybmVkVGFyZ2V0ID0gT2JqZWN0LmFzc2lnbihhLCBiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybmVkVGFyZ2V0ID0gYTtcbiAgICAgICAgfVxuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICBkYXRhOiByZXR1cm5lZFRhcmdldCxcbiAgICAgICAgICAgIHVybDogXCIvZnJvbnQtZW5kL21hcD9cIixcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0c1NldHRpbmdzID0gcmVzdWx0cy5zZXR0aW5ncztcbiAgICAgICAgICAgICAgICBnZW9Kc29uTGF5ZXIuY2xlYXJMYXllcnMoKTtcbiAgICAgICAgICAgICAgICBnZW9Kc29uTGF5ZXIuYWRkRGF0YShyZXN1bHRzLm9iamVjdHMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMub2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gdmFyIGFhYSA9XG4gICAgICAgICAgICAgICAgLy8gTC5nZW9KU09OKHJlc3VsdHMub2JqZWN0cyx7XG4gICAgICAgICAgICAgICAgLy8gICAgIG9uRWFjaEZlYXR1cmU6IGZ1bmN0aW9uIChmZWF0dXJlLCBsYXllcikge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGF5ZXIuYmluZFRvb2x0aXAoJ1Rvb2x0aXAgZ2VvSlNPTicpO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGF5ZXIuYmluZFBvcHVwKCdwb3B1cCBnZW9KU09OJyk7XG4gICAgICAgICAgICAgICAgLy8gICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAvLyAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgLy8gICAgIGxpbmVDb2xvck5hbWU6ICdyZWQnLFxuICAgICAgICAgICAgICAgIC8vICAgICBzaGFkb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgLy8gICAgIGFkZEludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vICAgICBzdHlsZTogZnVuY3Rpb24oZmVhdHVyZSl7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy8gbGluZUNvbG9yTmFtZTogXCJyZWRcIixcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZmlsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHdpZHRoOiAyMCxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBob3ZlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgYm9yZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBzaGFkb3c6ZmFsc2UsXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIwLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gfSkuYWRkVG8obWFwKTtcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYXZlVmlld3BvcnQoY2VudGVyKSB7XG4gICAgICAgIGxldCB6b29tID0gbWFwLmdldFpvb20oKTtcbiAgICAgICAgbGV0IGEgPSB7XG4gICAgICAgICAgICB6b29tOiB6b29tLFxuICAgICAgICAgICAgYzogY2VudGVyLmxhdCArICcsJyArIGNlbnRlci5sbmdcbiAgICAgICAgfTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgZGF0YTogYSxcbiAgICAgICAgICAgIHVybDogXCIvbWFwL3pcIixcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYXRlKCkge1xuICAgICAgICBsb2FkaW5nLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgbWFwLmxvY2F0ZSh7XG4gICAgICAgICAgICBzZXRWaWV3OiB0cnVlLFxuICAgICAgICAgICAgbWF4Wm9vbTogb2JqZWN0c1NldHRpbmdzLmRlZmF1bHRfem9vbVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRNYXBWaWV3VG9NeUxvY2F0aW9uKGUpIHtcbiAgICAgICAgbG9hZGluZy5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgICAgIGxldCByYWRpdXMgPSBlLmFjY3VyYWN5IC8gMjtcblxuICAgICAgICBteUxvY2F0aW9uTGF5ZXJHcm91cC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICAgICAgICBteUxvY2F0aW9uTGF5ZXJHcm91cC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBjZW50ZXIgPSBMLmNpcmNsZShlLmxhdGxuZywge1xuICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgIGZpbGxDb2xvcjogJyMyQTkzRUUnLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDEsXG4gICAgICAgICAgICB3ZWlnaHQ6IDQsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgcmFkaXVzOiA1XG4gICAgICAgIH0pLmFkZFRvKG15TG9jYXRpb25MYXllckdyb3VwKTtcblxuICAgICAgICBMLmNpcmNsZShlLmxhdGxuZywge1xuICAgICAgICAgICAgcmFkaXVzOiBlLmFjY3VyYWN5IC8gMixcbiAgICAgICAgICAgIGNvbG9yOiAnIzEzNkFFQycsXG4gICAgICAgICAgICBmaWxsQ29sb3I6ICcjMTM2QUVDJyxcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjE1LFxuICAgICAgICAgICAgd2VpZ2h0OiAwXG4gICAgICAgIH0pLmFkZFRvKG15TG9jYXRpb25MYXllckdyb3VwKTtcblxuICAgICAgICBjZW50ZXIuYmluZFBvcHVwKFwi0J3QsNC80LjRgNCw0YLQtSDRgdC1INCyINGA0LDQtNC40YPRgSDQvtGCIFwiICsgcmFkaXVzICsgXCIg0LzQtdGC0YDQsCDQvtGCINGC0LDQt9C4INC70L7QutCw0YbQuNGPXCIsIHtcbiAgICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAtMTApXG4gICAgICAgIH0pO1xuICAgICAgICBjZW50ZXIub3BlblBvcHVwKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0SW5pdGlhbE1hcFZpZXcoKSB7XG4gICAgICAgIGxvYWRpbmcuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuXG4gICAgICAgIGxldCB6b29tO1xuICAgICAgICBsZXQgbGF0O1xuICAgICAgICBsZXQgbG5nO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IFwiL21hcC9wXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgIHpvb20gPSByZXN1bHRzLnpvb207XG4gICAgICAgICAgICAgICAgbGF0ID0gcmVzdWx0cy5sYXQ7XG4gICAgICAgICAgICAgICAgbG5nID0gcmVzdWx0cy5sbmc7XG4gICAgICAgICAgICAgICAgc2V0UmVhbEluaXRpYWxNYXBWaWV3KGxhdCwgbG5nLCB6b29tKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRSZWFsSW5pdGlhbE1hcFZpZXcobGF0LCBsbmcsIHpvb20pIHtcbiAgICAgICAgbWFwLnNldFZpZXcoW2xhdCwgbG5nXSwgem9vbSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6b29tVG9MYXllcihsYXllciwgZXYpIHtcbiAgICAgICAgbGV0IGNsaWNrQ29vcmRpbmF0ZXMgPSBtYXAubW91c2VFdmVudFRvTGF0TG5nKGV2Lm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLl96b29tICYmIGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5fem9vbSAhPT0gbWFwLmdldFpvb20oKSkge1xuICAgICAgICAgICAgbWFwLnNldFZpZXcoY2xpY2tDb29yZGluYXRlcywgbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLl96b29tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hcC5zZXRWaWV3KGNsaWNrQ29vcmRpbmF0ZXMpO1xuXG4gICAgICAgICAgICBzYXZlVmlld3BvcnQoY2xpY2tDb29yZGluYXRlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuTGF5ZXJQb3B1cChsYXllciwgZXYpIHtcbiAgICAgICAgc2V0TGF5ZXJBY3RpdmVTdHlsZShsYXllcik7XG4gICAgICAgIHJlbW92ZUFsbFBvcHVwcygpO1xuICAgICAgICBsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuYWN0aXZlUG9wdXAgPSB0cnVlO1xuXG4gICAgICAgIGxldCBjb29yZGluYXRlcztcblxuXG4gICAgICAgIGlmIChsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuX2JlaGF2aW9yID09PSAnc3VydmV5Jykge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSBtYXAubW91c2VFdmVudFRvTGF0TG5nKGV2Lm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgaWYgKG1hcE9wdGlvbi5zdXJ2ZXkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBvcGVuQ29uZmlybU1vZGFsKGxheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gZXYubGF0bG5nO1xuICAgICAgICB9XG5cblxuICAgICAgICBsZXQgcG9wdXBMYXllciA9IEwuY2lyY2xlKGNvb3JkaW5hdGVzLCB7XG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMCxcbiAgICAgICAgICAgIHdlaWdodDogMCxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICByYWRpdXM6IDFcbiAgICAgICAgfSkuYWRkVG8ocG9wdXNMYXllckdyb3VwKTtcblxuICAgICAgICBsZXQgcG9wdXBDb250ZW50ID0gYDxwIGNsYXNzPVwidGV4dC1jZW50ZXJcIj48IS0tPGZvcm0gbWV0aG9kPVwicG9zdFwiIGNsYXNzPVwibS1mb3JtXCIgYWN0aW9uPVwiL2Zyb250LWVuZC9nZW8tY29sbGVjdGlvbi9hZGRcIj48aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJnZW8tb2JqZWN0XCIgdmFsdWU9XCIke2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZH1cIj48YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj4ke2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZH08L2J1dHRvbj48L2Zvcm0+LS0+JHtsYXllci5mZWF0dXJlLnByb3BlcnRpZXMudHlwZX08YnIgLz4ke2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5uYW1lfTwvcD5gO1xuXG4gICAgICAgIHBvcHVwTGF5ZXIuYmluZFBvcHVwKHBvcHVwQ29udGVudCwge1xuICAgICAgICAgICAgb2Zmc2V0OiBMLnBvaW50KDAsIC0yMClcbiAgICAgICAgfSkub24oJ3BvcHVwY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25maXJtTW9kYWwuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmFjdGl2ZVBvcHVwID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRMYXllckRlZmF1bHRTdHlsZShsYXllcik7XG4gICAgICAgICAgICByZW1vdmVBbGxQb3B1cHMoKTtcbiAgICAgICAgfSkub3BlblBvcHVwKCk7XG5cbiAgICAgICAgbGV0IGNvbGxlY3Rpb24gPSBtYXBPcHRpb24uY29sbGVjdGlvbjtcblxuICAgICAgICBpZiAodHlwZW9mIGNvbGxlY3Rpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogJy9mcm9udC1lbmQvZ2VvLWNvbGxlY3Rpb24vYWRkJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdnZW8tb2JqZWN0JzogbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmlkLFxuICAgICAgICAgICAgICAgICAgICAnY29sbGVjdGlvbic6IGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWFwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICAgICAgICAkKFwiLm0tZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybSA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmb3JtLmF0dHIoJ2FjdGlvbicpO1xuXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9mcm9udC1lbmQvZ2VvLWNvbGxlY3Rpb24vYWRkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZGF0YTogZm9ybS5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2VvLW9iamVjdCc6ICdjZDUzOGJmNS0zMjIwLTQyNTktYjI2ZC0zNDg4ZDcxY2E3ZDcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1hcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICovXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3BlbkNvbmZpcm1Nb2RhbChsYXllcikge1xuICAgICAgICBsZXQgZGlhbG9nVGl0bGUgPSBvYmplY3RzU2V0dGluZ3MuZGlhbG9nW2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5fZHRleHRdIHx8ICfQmNGB0LrQsNGC0LUg0LvQuCDQtNCwINC+0YbQtdC90LjRgtC1JztcbiAgICAgICAgbGV0IGRpYWxvZ0xpbmsgPSAnL2dlby8nICsgbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmlkO1xuICAgICAgICBjb25maXJtTW9kYWwucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICBjb25maXJtTW9kYWwuZmluZCgnW2RhdGEtY29uZmlybS10aXRsZV0nKS5odG1sKGAke2RpYWxvZ1RpdGxlfT9gKTtcbiAgICAgICAgY29uZmlybU1vZGFsLmZpbmQoJ1tkYXRhLWNvbmZpcm0tbGlua10nKS5hdHRyKCdocmVmJywgZGlhbG9nTGluayk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsUG9wdXBzKCkge1xuICAgICAgICBtYXAuY2xvc2VQb3B1cCgpO1xuICAgICAgICBwb3B1c0xheWVyR3JvdXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgICAgICAgcG9wdXNMYXllckdyb3VwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0TGF5ZXJEZWZhdWx0U3R5bGUobGF5ZXIpIHtcbiAgICAgICAgbGF5ZXIuc2V0U3R5bGUob2JqZWN0c1NldHRpbmdzLnN0eWxlc1tsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuX3MxXSB8fCBkZWZhdWx0T2JqZWN0U3R5bGUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0TGF5ZXJIb3ZlclN0eWxlKGxheWVyKSB7XG4gICAgICAgIGxheWVyLnNldFN0eWxlKG9iamVjdHNTZXR0aW5ncy5zdHlsZXNbbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLl9zMl0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0TGF5ZXJBY3RpdmVTdHlsZShsYXllcikge1xuICAgICAgICBzd2l0Y2ggKGxheWVyLmZlYXR1cmUuZ2VvbWV0cnkudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgICAgICAgbGF5ZXIuc2V0U3R5bGUob2JqZWN0c1NldHRpbmdzLnN0eWxlc1snb25fZGlhbG9nX3BvaW50J10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIGxheWVyLnNldFN0eWxlKG9iamVjdHNTZXR0aW5ncy5zdHlsZXNbJ29uX2RpYWxvZ19saW5lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgICAgICAgICBsYXllci5zZXRTdHlsZShvYmplY3RzU2V0dGluZ3Muc3R5bGVzWydvbl9kaWFsb2dfcG9seWdvbiddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXNzZXRzL2Zyb250L2pzL21hcC1tYWluLmpzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQUNBO0FBY0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqRkE7QUFDQTtBQW1GQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6Q0E7QUEyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mapConfig = __webpack_require__(0);\n\n(function () {\n    if (!document.getElementById('mapMini')) {\n        return;\n    }\n    var loading = $('.loading');\n    var confirmModal = $('.confirm');\n    $(document).on('click', '[data-confirm-cancel]', function () {\n        removeAllPopups();\n    });\n\n    //const mapCenter = mapOption.center;\n    //const mapZoom = mapOption.zoom;\n\n    var defaultObjectStyle = {\n        color: \"#ff9710\",\n        opacity: 0.5,\n        width: 5\n    };\n    var objectsSettings = {};\n    var initialLoad = false;\n\n    var map = new L.map('mapMini', {\n        updateWhenZooming: false,\n        attributionControl: false\n    });\n\n    var mapStyle = L.tileLayer(_mapConfig.mapBoxUrl, {\n        attribution: _mapConfig.mapBoxAttribution,\n        maxNativeZoom: 19,\n        maxZoom: 21,\n        minZoom: 11,\n        updateWhenZooming: false\n    });\n    mapStyle.addTo(map);\n\n    var myLocationButton = L.Control.extend({\n        options: {\n            position: 'topleft'\n        },\n        onAdd: function onAdd() {\n            var container = L.DomUtil.create('button', 'leaflet-bar leaflet-control-custom far fa-dot-circle');\n            container.type = \"button\";\n            container.onclick = function () {\n                locate();\n            };\n            return container;\n        }\n    });\n    map.addControl(new myLocationButton());\n\n    var myLocationLayerGroup = L.layerGroup();\n    myLocationLayerGroup.addTo(map);\n\n    var popusLayerGroup = L.layerGroup();\n    popusLayerGroup.addTo(map);\n\n    var updateMapThrottle = void 0;\n    map.on('dragend zoomend', function () {\n        clearTimeout(updateMapThrottle);\n        updateMapThrottle = setTimeout(function () {\n            var center = map.getCenter();\n\n            updateMap(center, function () {\n                if (!initialLoad) {\n                    initialLoad = true;\n                    if ($('#mapMini').data('locate-on-load') === true) {\n                        locate();\n                    }\n                }\n            });\n        }, 200);\n    });\n\n    map.on('locationfound', setMapViewToMyLocation);\n    map.on('locationerror', setInitialMapView);\n\n    var geoJsonLayer = L.geoJSON([], {\n        style: function style(feature) {\n            return objectsSettings.styles[feature.properties._s1] ? _extends({}, objectsSettings.styles[feature.properties._s1]) : _extends({}, defaultObjectStyle);\n        },\n        onEachFeature: function onEachFeature(feature, layer) {\n            layer.on('click', function (ev) {\n                switch (feature.properties._behavior) {\n                    case \"navigation\":\n                        zoomToLayer(layer, ev);\n                        break;\n                    default:\n                        openLayerPopup(layer, ev);\n                        zoomToLayer(layer, ev);\n                        break;\n                }\n            });\n            layer.on('mouseover', function () {\n                if (layer.feature.properties.activePopup) {\n                    return;\n                }\n                if (objectsSettings.styles[feature.properties._s2]) {\n                    setLayerHoverStyle(layer);\n                }\n            });\n            layer.on('mouseout', function () {\n                if (layer.feature.properties.activePopup) {\n                    return;\n                }\n                if (objectsSettings.styles[feature.properties._s1]) {\n                    setLayerDefaultStyle(layer);\n                }\n            });\n        },\n        pointToLayer: function pointToLayer(feature, latlng) {\n            return L.circleMarker(latlng, objectsSettings.styles[feature.properties._s1]);\n        }\n    }).addTo(map);\n\n    setInitialMapView();\n    geoCollection();\n\n    function updateMap(center) {\n        var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n        var zoom = map.getZoom();\n        var bounds = map.getBounds();\n        var returnedTarget = {};\n\n        var a = {\n            in: bounds._southWest.lng + ',' + bounds._northEast.lat + ',' + bounds._northEast.lng + ',' + bounds._southWest.lat + ',',\n            zoom: zoom,\n            c: center.lat + ',' + center.lng,\n            g: mapOption.collection\n        };\n\n        if (typeof b !== 'undefined') {\n            returnedTarget = Object.assign(a, b);\n        } else {\n            returnedTarget = a;\n        }\n\n        $.ajax({\n            data: returnedTarget,\n            url: \"/front-end/map?\",\n            success: function success(results) {\n                objectsSettings = results.settings;\n                geoJsonLayer.clearLayers();\n                geoJsonLayer.addData(results.objects);\n                /*\n                                map.fitBounds(results.bbox, {\n                                 });\n                */\n                fn();\n            }\n        });\n    }\n\n    function saveViewport(center) {\n        var zoom = map.getZoom();\n        var a = {\n            zoom: zoom,\n            c: center.lat + ',' + center.lng\n        };\n\n        $.ajax({\n            data: a,\n            url: \"/map/z\",\n            success: function success() {}\n        });\n    }\n\n    function locate() {\n        loading.removeClass('d-none');\n        map.locate({\n            setView: true,\n            maxZoom: objectsSettings.default_zoom\n        });\n    }\n\n    function setMapViewToMyLocation(e) {\n        loading.addClass('d-none');\n        var radius = e.accuracy / 2;\n\n        myLocationLayerGroup.eachLayer(function (layer) {\n            myLocationLayerGroup.removeLayer(layer);\n        });\n\n        var center = L.circle(e.latlng, {\n            color: '#fff',\n            fillColor: '#2A93EE',\n            fillOpacity: 1,\n            weight: 4,\n            opacity: 1,\n            radius: 5\n        }).addTo(myLocationLayerGroup);\n\n        L.circle(e.latlng, {\n            radius: e.accuracy / 2,\n            color: '#136AEC',\n            fillColor: '#136AEC',\n            fillOpacity: 0.15,\n            weight: 0\n        }).addTo(myLocationLayerGroup);\n\n        center.bindPopup(\"Намирате се в радиус от \" + radius + \" метра от тази локация\", {\n            offset: L.point(0, -10)\n        });\n        center.openPopup();\n    }\n\n    function setInitialMapView() {\n        loading.addClass('d-none');\n\n        var zoom = void 0;\n        var lat = void 0;\n        var lng = void 0;\n\n        if (_typeof(mapOption.bbox) == \"object\") {\n            map.fitBounds(mapOption.bbox, {});\n        } else {\n            $.ajax({\n                url: \"/map/p\",\n                success: function success(results) {\n                    zoom = results.zoom;\n                    lat = results.lat;\n                    lng = results.lng;\n\n                    setRealInitialMapView(lat, lng, zoom);\n                }\n            });\n        }\n    }\n\n    function setRealInitialMapView(lat, lng, zoom) {\n        map.setView([lat, lng], zoom);\n    }\n\n    function zoomToLayer(layer, ev) {\n        var clickCoordinates = map.mouseEventToLatLng(ev.originalEvent);\n        if (layer.feature.properties._zoom && layer.feature.properties._zoom !== map.getZoom()) {\n            map.setView(clickCoordinates, layer.feature.properties._zoom);\n        } else {\n            map.setView(clickCoordinates);\n\n            saveViewport(clickCoordinates);\n        }\n    }\n\n    function openLayerPopup(layer, ev) {\n        setLayerActiveStyle(layer);\n        removeAllPopups();\n        layer.feature.properties.activePopup = true;\n\n        var coordinates = void 0;\n\n        if (layer.feature.properties._behavior === 'survey') {\n            coordinates = map.mouseEventToLatLng(ev.originalEvent);\n            if (mapOption.survey === true) {\n                openConfirmModal(layer);\n            }\n        } else {\n            coordinates = ev.latlng;\n        }\n\n        var popupLayer = L.circle(coordinates, {\n            fillOpacity: 0,\n            weight: 0,\n            opacity: 0,\n            radius: 1\n        }).addTo(popusLayerGroup);\n\n        var popupContent = '<p class=\"text-center\"><!--<form method=\"post\" class=\"m-form\" action=\"/front-end/geo-collection/add\"><input type=\"hidden\" name=\"geo-object\" value=\"' + layer.feature.properties.id + '\"><button type=\"submit\">' + layer.feature.properties.id + '</button></form>-->' + layer.feature.properties.type + '<br />' + layer.feature.properties.name + '</p>';\n\n        popupLayer.bindPopup(popupContent, {\n            offset: L.point(0, -20)\n        }).on('popupclose', function () {\n            confirmModal.addClass('d-none');\n            layer.feature.properties.activePopup = false;\n            setLayerDefaultStyle(layer);\n            removeAllPopups();\n        }).openPopup();\n\n        var collection = mapOption.collection;\n\n        if (typeof collection !== 'undefined') {\n            $.ajax({\n                type: \"POST\",\n                url: '/front-end/geo-collection/add',\n                data: {\n                    'geo-object': layer.feature.properties.id,\n                    'collection': collection\n                },\n                success: function success() {\n                    var center = map.getCenter();\n                    updateMap(center);\n                }\n            });\n\n            geoCollection();\n        }\n\n        /*\n                $(\".m-form\").submit(function(e) {\n                    var form = $(this);\n                    var url = form.attr('action');\n                     $.ajax({\n                        type: \"POST\",\n                        url: '/front-end/geo-collection/add',\n                        //data: form.serialize(),\n                        data: {\n                            'geo-object': 'cd538bf5-3220-4259-b26d-3488d71ca7d7'\n                        },\n                        success: function()\n                        {\n                            updateMap();\n                        }\n                    });\n                     e.preventDefault();\n                });\n        */\n    }\n\n    function geoCollection() {\n        $.ajax({\n            url: \"http://gradska-sreda.localhost/geo-collection/\" + gcOpen + \"/info\",\n            success: function success(result) {\n                var html = '<ul class=\"mt-4 pl-4\">';\n\n                Object.keys(result).forEach(function (item) {\n                    html += '<li class=\"mb-2\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"/geo-collection/' + result[item].collection_uuid + '\" class=\"font-weight-bold\">\\u041C\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442</a>';\n\n                    if (gcOpen === result[item].collection_uuid) {\n                        html += ' [<span class=\"text-success\">\\u0430\\u043A\\u0442\\u0438\\u0432\\u0435\\u043D</span>]\\n\\t\\t\\t\\t\\t\\t\\t<form method=\"post\" class=\"float-right\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button type=\"submit\" class=\"btn btn-sm btn-danger\" style=\"font-size: 11px; padding: 4px 5px 0\"><i class=\"fa fa-trash\"></i> </button>\\n\\t\\t\\t\\t\\t\\t\\t</form>';\n                    }\n\n                    html += '<div>\\n\\t\\t\\t\\t\\t\\t\\t\\u0434\\u044A\\u043B\\u0436\\u0438\\u043D\\u0430: ' + result[item].length + ' \\u043C<br />\\n\\t\\t\\t\\t\\t\\t\\t\\u043E\\u0446\\u0435\\u043D\\u0435\\u043D: ' + result[item].completion.percentage + ' %<br />\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\"progress\" style=\"height: 3px;\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\"progress-bar\" role=\"progressbar\" style=\"width: ' + result[item].completion.percentage + '%;\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</li>';\n                });\n\n                html += '</ul>';\n\n                $(\"#div3\").html(html);\n            }\n        });\n    }\n\n    function openConfirmModal(layer) {\n        var dialogTitle = objectsSettings.dialog[layer.feature.properties._dtext] || 'Искате ли да оцените';\n        var dialogLink = '/geo/' + layer.feature.properties.id;\n        confirmModal.removeClass('d-none');\n        confirmModal.find('[data-confirm-title]').html(dialogTitle + '?');\n        confirmModal.find('[data-confirm-link]').attr('href', dialogLink);\n    }\n\n    function removeAllPopups() {\n        map.closePopup();\n        popusLayerGroup.eachLayer(function (layer) {\n            popusLayerGroup.removeLayer(layer);\n        });\n    }\n\n    function setLayerDefaultStyle(layer) {\n        layer.setStyle(objectsSettings.styles[layer.feature.properties._s1] || defaultObjectStyle);\n    }\n\n    function setLayerHoverStyle(layer) {\n        layer.setStyle(objectsSettings.styles[layer.feature.properties._s2]);\n    }\n\n    function setLayerActiveStyle(layer) {\n        switch (layer.feature.geometry.type) {\n            case \"Point\":\n                layer.setStyle(objectsSettings.styles['on_dialog_point']);\n                break;\n            case \"MultiLineString\":\n                layer.setStyle(objectsSettings.styles['on_dialog_line']);\n                break;\n            case \"Polygon\":\n                layer.setStyle(objectsSettings.styles['on_dialog_polygon']);\n                break;\n        }\n    }\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvbWFwLW1pbmkuanM/ZTE1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21hcEJveEF0dHJpYnV0aW9uLCBtYXBCb3hVcmx9IGZyb20gJy4vbWFwLWNvbmZpZyc7XG5cbigoKSA9PiB7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwTWluaScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbG9hZGluZyA9ICQoJy5sb2FkaW5nJyk7XG4gICAgY29uc3QgY29uZmlybU1vZGFsID0gJCgnLmNvbmZpcm0nKTtcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtY29uZmlybS1jYW5jZWxdJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVBbGxQb3B1cHMoKTtcbiAgICB9KTtcblxuICAgIC8vY29uc3QgbWFwQ2VudGVyID0gbWFwT3B0aW9uLmNlbnRlcjtcbiAgICAvL2NvbnN0IG1hcFpvb20gPSBtYXBPcHRpb24uem9vbTtcblxuICAgIGNvbnN0IGRlZmF1bHRPYmplY3RTdHlsZSA9IHtcbiAgICAgICAgY29sb3I6IFwiI2ZmOTcxMFwiLFxuICAgICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICAgIHdpZHRoOiA1XG4gICAgfTtcbiAgICBsZXQgb2JqZWN0c1NldHRpbmdzID0ge307XG4gICAgbGV0IGluaXRpYWxMb2FkID0gZmFsc2U7XG5cbiAgICBsZXQgbWFwID0gbmV3IEwubWFwKCdtYXBNaW5pJywge1xuICAgICAgICB1cGRhdGVXaGVuWm9vbWluZzogZmFsc2UsXG4gICAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogZmFsc2VcbiAgICB9KTtcblxuICAgIGxldCBtYXBTdHlsZSA9IEwudGlsZUxheWVyKG1hcEJveFVybCwge1xuICAgICAgICBhdHRyaWJ1dGlvbjogbWFwQm94QXR0cmlidXRpb24sXG4gICAgICAgIG1heE5hdGl2ZVpvb206IDE5LFxuICAgICAgICBtYXhab29tOiAyMSxcbiAgICAgICAgbWluWm9vbTogMTEsXG4gICAgICAgIHVwZGF0ZVdoZW5ab29taW5nOiBmYWxzZVxuICAgIH0pO1xuICAgIG1hcFN0eWxlLmFkZFRvKG1hcCk7XG5cbiAgICBsZXQgbXlMb2NhdGlvbkJ1dHRvbiA9IEwuQ29udHJvbC5leHRlbmQoe1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3RvcGxlZnQnXG4gICAgICAgIH0sXG4gICAgICAgIG9uQWRkOiAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJ2xlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbC1jdXN0b20gZmFyIGZhLWRvdC1jaXJjbGUnKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci50eXBlID0gXCJidXR0b25cIjtcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxvY2F0ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBtYXAuYWRkQ29udHJvbChuZXcgbXlMb2NhdGlvbkJ1dHRvbigpKTtcblxuICAgIGxldCBteUxvY2F0aW9uTGF5ZXJHcm91cCA9IEwubGF5ZXJHcm91cCgpO1xuICAgIG15TG9jYXRpb25MYXllckdyb3VwLmFkZFRvKG1hcCk7XG5cbiAgICBsZXQgcG9wdXNMYXllckdyb3VwID0gTC5sYXllckdyb3VwKCk7XG4gICAgcG9wdXNMYXllckdyb3VwLmFkZFRvKG1hcCk7XG5cbiAgICBsZXQgdXBkYXRlTWFwVGhyb3R0bGU7XG4gICAgbWFwLm9uKCdkcmFnZW5kIHpvb21lbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh1cGRhdGVNYXBUaHJvdHRsZSk7XG4gICAgICAgIHVwZGF0ZU1hcFRocm90dGxlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2VudGVyID0gbWFwLmdldENlbnRlcigpO1xuXG4gICAgICAgICAgICB1cGRhdGVNYXAoY2VudGVyLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbml0aWFsTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9hZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKCcjbWFwTWluaScpLmRhdGEoJ2xvY2F0ZS1vbi1sb2FkJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMjAwKTtcbiAgICB9KTtcblxuICAgIG1hcC5vbignbG9jYXRpb25mb3VuZCcsIHNldE1hcFZpZXdUb015TG9jYXRpb24pO1xuICAgIG1hcC5vbignbG9jYXRpb25lcnJvcicsIHNldEluaXRpYWxNYXBWaWV3KTtcblxuICAgIGxldCBnZW9Kc29uTGF5ZXIgPSBMLmdlb0pTT04oW10sIHtcbiAgICAgICAgc3R5bGU6IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0c1NldHRpbmdzLnN0eWxlc1tmZWF0dXJlLnByb3BlcnRpZXMuX3MxXSA/IHsuLi5vYmplY3RzU2V0dGluZ3Muc3R5bGVzW2ZlYXR1cmUucHJvcGVydGllcy5fczFdfSA6IHsuLi5kZWZhdWx0T2JqZWN0U3R5bGV9XG4gICAgICAgIH0sXG4gICAgICAgIG9uRWFjaEZlYXR1cmU6IGZ1bmN0aW9uIChmZWF0dXJlLCBsYXllcikge1xuICAgICAgICAgICAgbGF5ZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChmZWF0dXJlLnByb3BlcnRpZXMuX2JlaGF2aW9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYXZpZ2F0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tVG9MYXllcihsYXllciwgZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF5ZXJQb3B1cChsYXllciwgZXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgem9vbVRvTGF5ZXIobGF5ZXIsIGV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGF5ZXIub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmFjdGl2ZVBvcHVwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdHNTZXR0aW5ncy5zdHlsZXNbZmVhdHVyZS5wcm9wZXJ0aWVzLl9zMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TGF5ZXJIb3ZlclN0eWxlKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxheWVyLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmFjdGl2ZVBvcHVwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdHNTZXR0aW5ncy5zdHlsZXNbZmVhdHVyZS5wcm9wZXJ0aWVzLl9zMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TGF5ZXJEZWZhdWx0U3R5bGUobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBwb2ludFRvTGF5ZXI6IGZ1bmN0aW9uIChmZWF0dXJlLCBsYXRsbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBMLmNpcmNsZU1hcmtlcihsYXRsbmcsIG9iamVjdHNTZXR0aW5ncy5zdHlsZXNbZmVhdHVyZS5wcm9wZXJ0aWVzLl9zMV0pO1xuICAgICAgICB9XG4gICAgfSkuYWRkVG8obWFwKTtcblxuICAgIHNldEluaXRpYWxNYXBWaWV3KCk7XG4gICAgZ2VvQ29sbGVjdGlvbigpO1xuXG5cbiAgICBmdW5jdGlvbiB1cGRhdGVNYXAoY2VudGVyLCBmbiA9ICgpID0+IHtcbiAgICB9KSB7XG4gICAgICAgIGxldCB6b29tID0gbWFwLmdldFpvb20oKTtcbiAgICAgICAgbGV0IGJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICAgICAgbGV0IHJldHVybmVkVGFyZ2V0ID0ge307XG5cbiAgICAgICAgbGV0IGEgPSB7XG4gICAgICAgICAgICBpbjogYm91bmRzLl9zb3V0aFdlc3QubG5nICsgJywnICtcbiAgICAgICAgICAgICAgICBib3VuZHMuX25vcnRoRWFzdC5sYXQgKyAnLCcgK1xuICAgICAgICAgICAgICAgIGJvdW5kcy5fbm9ydGhFYXN0LmxuZyArICcsJyArXG4gICAgICAgICAgICAgICAgYm91bmRzLl9zb3V0aFdlc3QubGF0ICsgJywnLFxuICAgICAgICAgICAgem9vbTogem9vbSxcbiAgICAgICAgICAgIGM6IGNlbnRlci5sYXQgKyAnLCcgKyBjZW50ZXIubG5nLFxuICAgICAgICAgICAgZzogbWFwT3B0aW9uLmNvbGxlY3Rpb25cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHlwZW9mIGIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm5lZFRhcmdldCA9IE9iamVjdC5hc3NpZ24oYSwgYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm5lZFRhcmdldCA9IGE7XG4gICAgICAgIH1cblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgZGF0YTogcmV0dXJuZWRUYXJnZXQsXG4gICAgICAgICAgICB1cmw6IFwiL2Zyb250LWVuZC9tYXA/XCIsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgIG9iamVjdHNTZXR0aW5ncyA9IHJlc3VsdHMuc2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgZ2VvSnNvbkxheWVyLmNsZWFyTGF5ZXJzKCk7XG4gICAgICAgICAgICAgICAgZ2VvSnNvbkxheWVyLmFkZERhdGEocmVzdWx0cy5vYmplY3RzKTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKHJlc3VsdHMuYmJveCwge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2F2ZVZpZXdwb3J0KGNlbnRlcikge1xuICAgICAgICBsZXQgem9vbSA9IG1hcC5nZXRab29tKCk7XG4gICAgICAgIGxldCBhID0ge1xuICAgICAgICAgICAgem9vbTogem9vbSxcbiAgICAgICAgICAgIGM6IGNlbnRlci5sYXQgKyAnLCcgKyBjZW50ZXIubG5nXG4gICAgICAgIH07XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIGRhdGE6IGEsXG4gICAgICAgICAgICB1cmw6IFwiL21hcC96XCIsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG5cblxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2F0ZSgpIHtcbiAgICAgICAgbG9hZGluZy5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgIG1hcC5sb2NhdGUoe1xuICAgICAgICAgICAgc2V0VmlldzogdHJ1ZSxcbiAgICAgICAgICAgIG1heFpvb206IG9iamVjdHNTZXR0aW5ncy5kZWZhdWx0X3pvb21cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0TWFwVmlld1RvTXlMb2NhdGlvbihlKSB7XG4gICAgICAgIGxvYWRpbmcuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICBsZXQgcmFkaXVzID0gZS5hY2N1cmFjeSAvIDI7XG5cbiAgICAgICAgbXlMb2NhdGlvbkxheWVyR3JvdXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgICAgICAgbXlMb2NhdGlvbkxheWVyR3JvdXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgY2VudGVyID0gTC5jaXJjbGUoZS5sYXRsbmcsIHtcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICBmaWxsQ29sb3I6ICcjMkE5M0VFJyxcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuICAgICAgICAgICAgd2VpZ2h0OiA0LFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHJhZGl1czogNVxuICAgICAgICB9KS5hZGRUbyhteUxvY2F0aW9uTGF5ZXJHcm91cCk7XG5cbiAgICAgICAgTC5jaXJjbGUoZS5sYXRsbmcsIHtcbiAgICAgICAgICAgIHJhZGl1czogZS5hY2N1cmFjeSAvIDIsXG4gICAgICAgICAgICBjb2xvcjogJyMxMzZBRUMnLFxuICAgICAgICAgICAgZmlsbENvbG9yOiAnIzEzNkFFQycsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMC4xNSxcbiAgICAgICAgICAgIHdlaWdodDogMFxuICAgICAgICB9KS5hZGRUbyhteUxvY2F0aW9uTGF5ZXJHcm91cCk7XG5cbiAgICAgICAgY2VudGVyLmJpbmRQb3B1cChcItCd0LDQvNC40YDQsNGC0LUg0YHQtSDQsiDRgNCw0LTQuNGD0YEg0L7RgiBcIiArIHJhZGl1cyArIFwiINC80LXRgtGA0LAg0L7RgiDRgtCw0LfQuCDQu9C+0LrQsNGG0LjRj1wiLCB7XG4gICAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgLTEwKVxuICAgICAgICB9KTtcbiAgICAgICAgY2VudGVyLm9wZW5Qb3B1cCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEluaXRpYWxNYXBWaWV3KCkge1xuICAgICAgICBsb2FkaW5nLmFkZENsYXNzKCdkLW5vbmUnKTtcblxuICAgICAgICBsZXQgem9vbTtcbiAgICAgICAgbGV0IGxhdDtcbiAgICAgICAgbGV0IGxuZztcblxuICAgICAgICBpZiAodHlwZW9mIG1hcE9wdGlvbi5iYm94ID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIG1hcC5maXRCb3VuZHMobWFwT3B0aW9uLmJib3gsIHt9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9tYXAvcFwiLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvb20gPSByZXN1bHRzLnpvb207XG4gICAgICAgICAgICAgICAgICAgIGxhdCA9IHJlc3VsdHMubGF0O1xuICAgICAgICAgICAgICAgICAgICBsbmcgPSByZXN1bHRzLmxuZztcblxuICAgICAgICAgICAgICAgICAgICBzZXRSZWFsSW5pdGlhbE1hcFZpZXcobGF0LCBsbmcsIHpvb20pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UmVhbEluaXRpYWxNYXBWaWV3KGxhdCwgbG5nLCB6b29tKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KFtsYXQsIGxuZ10sIHpvb20pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gem9vbVRvTGF5ZXIobGF5ZXIsIGV2KSB7XG4gICAgICAgIGxldCBjbGlja0Nvb3JkaW5hdGVzID0gbWFwLm1vdXNlRXZlbnRUb0xhdExuZyhldi5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgaWYgKGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5fem9vbSAmJiBsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuX3pvb20gIT09IG1hcC5nZXRab29tKCkpIHtcbiAgICAgICAgICAgIG1hcC5zZXRWaWV3KGNsaWNrQ29vcmRpbmF0ZXMsIGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5fem9vbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXAuc2V0VmlldyhjbGlja0Nvb3JkaW5hdGVzKTtcblxuICAgICAgICAgICAgc2F2ZVZpZXdwb3J0KGNsaWNrQ29vcmRpbmF0ZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3BlbkxheWVyUG9wdXAobGF5ZXIsIGV2KSB7XG4gICAgICAgIHNldExheWVyQWN0aXZlU3R5bGUobGF5ZXIpO1xuICAgICAgICByZW1vdmVBbGxQb3B1cHMoKTtcbiAgICAgICAgbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLmFjdGl2ZVBvcHVwID0gdHJ1ZTtcblxuICAgICAgICBsZXQgY29vcmRpbmF0ZXM7XG5cblxuICAgICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLl9iZWhhdmlvciA9PT0gJ3N1cnZleScpIHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gbWFwLm1vdXNlRXZlbnRUb0xhdExuZyhldi5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIGlmIChtYXBPcHRpb24uc3VydmV5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgb3BlbkNvbmZpcm1Nb2RhbChsYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IGV2LmxhdGxuZztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IHBvcHVwTGF5ZXIgPSBMLmNpcmNsZShjb29yZGluYXRlcywge1xuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXG4gICAgICAgICAgICB3ZWlnaHQ6IDAsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgcmFkaXVzOiAxXG4gICAgICAgIH0pLmFkZFRvKHBvcHVzTGF5ZXJHcm91cCk7XG5cbiAgICAgICAgbGV0IHBvcHVwQ29udGVudCA9IGA8cCBjbGFzcz1cInRleHQtY2VudGVyXCI+PCEtLTxmb3JtIG1ldGhvZD1cInBvc3RcIiBjbGFzcz1cIm0tZm9ybVwiIGFjdGlvbj1cIi9mcm9udC1lbmQvZ2VvLWNvbGxlY3Rpb24vYWRkXCI+PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiZ2VvLW9iamVjdFwiIHZhbHVlPVwiJHtsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuaWR9XCI+PGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+JHtsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuaWR9PC9idXR0b24+PC9mb3JtPi0tPiR7bGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLnR5cGV9PGJyIC8+JHtsYXllci5mZWF0dXJlLnByb3BlcnRpZXMubmFtZX08L3A+YDtcblxuICAgICAgICBwb3B1cExheWVyLmJpbmRQb3B1cChwb3B1cENvbnRlbnQsIHtcbiAgICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAtMjApXG4gICAgICAgIH0pLm9uKCdwb3B1cGNsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uZmlybU1vZGFsLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAgICAgICAgIGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5hY3RpdmVQb3B1cCA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0TGF5ZXJEZWZhdWx0U3R5bGUobGF5ZXIpO1xuICAgICAgICAgICAgcmVtb3ZlQWxsUG9wdXBzKCk7XG4gICAgICAgIH0pLm9wZW5Qb3B1cCgpO1xuXG4gICAgICAgIGxldCBjb2xsZWN0aW9uID0gbWFwT3B0aW9uLmNvbGxlY3Rpb247XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb2xsZWN0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6ICcvZnJvbnQtZW5kL2dlby1jb2xsZWN0aW9uL2FkZCcsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAnZ2VvLW9iamVjdCc6IGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1hcChjZW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBnZW9Db2xsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qXG4gICAgICAgICAgICAgICAgJChcIi5tLWZvcm1cIikuc3VibWl0KGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm0gPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gZm9ybS5hdHRyKCdhY3Rpb24nKTtcblxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvZnJvbnQtZW5kL2dlby1jb2xsZWN0aW9uL2FkZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RhdGE6IGZvcm0uc2VyaWFsaXplKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlby1vYmplY3QnOiAnY2Q1MzhiZjUtMzIyMC00MjU5LWIyNmQtMzQ4OGQ3MWNhN2Q3J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAqL1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlb0NvbGxlY3Rpb24oKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IFwiaHR0cDovL2dyYWRza2Etc3JlZGEubG9jYWxob3N0L2dlby1jb2xsZWN0aW9uL1wiKyBnY09wZW4gKyBcIi9pbmZvXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBgPHVsIGNsYXNzPVwibXQtNCBwbC00XCI+YDtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlc3VsdCkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9IGA8bGkgY2xhc3M9XCJtYi0yXCI+XG5cdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIvZ2VvLWNvbGxlY3Rpb24vJHtyZXN1bHRbaXRlbV0uY29sbGVjdGlvbl91dWlkfVwiIGNsYXNzPVwiZm9udC13ZWlnaHQtYm9sZFwiPtCc0LDRgNGI0YDRg9GCPC9hPmA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoZ2NPcGVuID09PSByZXN1bHRbaXRlbV0uY29sbGVjdGlvbl91dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAgWzxzcGFuIGNsYXNzPVwidGV4dC1zdWNjZXNzXCI+0LDQutGC0LjQstC10L08L3NwYW4+XVxuXHRcdFx0XHRcdFx0XHQ8Zm9ybSBtZXRob2Q9XCJwb3N0XCIgY2xhc3M9XCJmbG9hdC1yaWdodFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyXCIgc3R5bGU9XCJmb250LXNpemU6IDExcHg7IHBhZGRpbmc6IDRweCA1cHggMFwiPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIj48L2k+IDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L2Zvcm0+YDtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGRpdj5cblx0XHRcdFx0XHRcdFx00LTRitC70LbQuNC90LA6ICR7cmVzdWx0W2l0ZW1dLmxlbmd0aH0g0Lw8YnIgLz5cblx0XHRcdFx0XHRcdFx00L7RhtC10L3QtdC9OiAke3Jlc3VsdFtpdGVtXS5jb21wbGV0aW9uLnBlcmNlbnRhZ2V9ICU8YnIgLz5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIiBzdHlsZT1cImhlaWdodDogM3B4O1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInByb2dyZXNzLWJhclwiIHJvbGU9XCJwcm9ncmVzc2JhclwiIHN0eWxlPVwid2lkdGg6ICR7cmVzdWx0W2l0ZW1dLmNvbXBsZXRpb24ucGVyY2VudGFnZX0lO1wiIGFyaWEtdmFsdWVub3c9XCIyNVwiIGFyaWEtdmFsdWVtaW49XCIwXCIgYXJpYS12YWx1ZW1heD1cIjEwMFwiPjwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvbGk+YDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDwvdWw+YDtcblxuICAgICAgICAgICAgICAgICQoXCIjZGl2M1wiKS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuQ29uZmlybU1vZGFsKGxheWVyKSB7XG4gICAgICAgIGxldCBkaWFsb2dUaXRsZSA9IG9iamVjdHNTZXR0aW5ncy5kaWFsb2dbbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLl9kdGV4dF0gfHwgJ9CY0YHQutCw0YLQtSDQu9C4INC00LAg0L7RhtC10L3QuNGC0LUnO1xuICAgICAgICBsZXQgZGlhbG9nTGluayA9ICcvZ2VvLycgKyBsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuaWQ7XG4gICAgICAgIGNvbmZpcm1Nb2RhbC5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgIGNvbmZpcm1Nb2RhbC5maW5kKCdbZGF0YS1jb25maXJtLXRpdGxlXScpLmh0bWwoYCR7ZGlhbG9nVGl0bGV9P2ApO1xuICAgICAgICBjb25maXJtTW9kYWwuZmluZCgnW2RhdGEtY29uZmlybS1saW5rXScpLmF0dHIoJ2hyZWYnLCBkaWFsb2dMaW5rKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxQb3B1cHMoKSB7XG4gICAgICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgICAgIHBvcHVzTGF5ZXJHcm91cC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICAgICAgICBwb3B1c0xheWVyR3JvdXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRMYXllckRlZmF1bHRTdHlsZShsYXllcikge1xuICAgICAgICBsYXllci5zZXRTdHlsZShvYmplY3RzU2V0dGluZ3Muc3R5bGVzW2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5fczFdIHx8IGRlZmF1bHRPYmplY3RTdHlsZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRMYXllckhvdmVyU3R5bGUobGF5ZXIpIHtcbiAgICAgICAgbGF5ZXIuc2V0U3R5bGUob2JqZWN0c1NldHRpbmdzLnN0eWxlc1tsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuX3MyXSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRMYXllckFjdGl2ZVN0eWxlKGxheWVyKSB7XG4gICAgICAgIHN3aXRjaCAobGF5ZXIuZmVhdHVyZS5nZW9tZXRyeS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgICAgICBsYXllci5zZXRTdHlsZShvYmplY3RzU2V0dGluZ3Muc3R5bGVzWydvbl9kaWFsb2dfcG9pbnQnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgbGF5ZXIuc2V0U3R5bGUob2JqZWN0c1NldHRpbmdzLnN0eWxlc1snb25fZGlhbG9nX2xpbmUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICAgICAgICAgIGxheWVyLnNldFN0eWxlKG9iamVjdHNTZXR0aW5ncy5zdHlsZXNbJ29uX2RpYWxvZ19wb2x5Z29uJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhc3NldHMvZnJvbnQvanMvbWFwLW1pbmkuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5DQTtBQUNBO0FBcUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBS0E7QUFDQTtBQWJBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOUJBO0FBZ0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function () {\n    if (!document.getElementById('surveyForm')) {\n        return;\n    }\n\n    $(document).on('change', '[data-parent]', function () {\n        var parentId = $(this).data('parent');\n\n        $('#' + parentId).prop('checked', true);\n\n        deselectIrrelevant(parentId);\n    });\n\n    $(document).on('blur keyup', 'textarea[data-parent]', function () {\n        if (!$(this).val()) {\n            return;\n        }\n\n        var parentId = $(this).data('parent');\n\n        $('#' + parentId).prop('checked', true);\n\n        deselectIrrelevant(parentId);\n    });\n\n    $(document).on('change', '.custom-file-input', function () {\n        var fileName = $(this).val().replace('C:\\\\fakepath\\\\', '');\n        $(this).next('.custom-file-label').html(fileName);\n    });\n\n    function deselectIrrelevant(parentId) {\n        [].concat(_toConsumableArray(document.querySelectorAll('[data-parent'))).forEach(function (e) {\n            if (e.dataset.parent !== parentId) {\n                e.checked = false;\n                e.value = '';\n\n                if (e.getAttribute('type') === 'file') {\n                    $(e).next('.custom-file-label').html('Качете снимка');\n                }\n            }\n        });\n    }\n\n    $(document).on('submit', '#surveyForm', function (e) {\n        e.preventDefault();\n        $('.loading').removeClass('d-none');\n        postForm();\n    });\n\n    var objectId = $('#surveyForm').data('objectId');\n    var surveyFormHolder = $('#surveyFormContent');\n\n    getNewQuestion();\n\n    function getNewQuestion() {\n        $('.loading').removeClass('d-none');\n        $.ajax({\n            url: '/front-end/geo-object/' + objectId + '/survey',\n            success: function success(results) {\n                $('.loading').addClass('d-none');\n                if (Object.keys(results).length > 0) {\n                    if (results.status && results.status === 'no_question') {\n                        printMessage(results.message || 'Няма повече въпроси');\n                    } else {\n                        questionPrinter(results);\n                    }\n                }\n            }\n        });\n    }\n\n    function postForm() {\n        var form = new FormData();\n\n        [].concat(_toConsumableArray(document.querySelectorAll('#surveyForm [name]'))).forEach(function (el) {\n            var name = el.getAttribute('name');\n            var type = el.getAttribute('type');\n            var isFile = type === 'file';\n            var value = isFile ? el.files[0] || null : el.value;\n\n            if ((type === 'checkbox' || type === 'radio') && !el.checked) {\n                return;\n            }\n\n            form.append(name, value);\n        });\n\n        $.ajax({\n            method: 'POST',\n            data: form,\n            cache: false,\n            contentType: false,\n            processData: false,\n            url: '/front-end/geo-object/' + objectId + '/survey',\n            success: function success() {\n                getNewQuestion();\n            }\n        });\n    }\n\n    function printMessage(msg) {\n        var formParent = $('#surveyForm').parent();\n        var html = '<div class=\"row\">\\n                        <div class=\"col\">\\n                            <h3>' + msg + '</h3>\\n                        </div>\\n                    </div>';\n        formParent.html(html);\n    }\n\n    function questionPrinter(results) {\n        var html = '<div class=\"form-group\">\\n                        <h5 class=\"font-weight-bold m-0\">' + results.question + '</h5>\\n                    </div>';\n        html += '<div class=\"py-3\">';\n        results.answers.forEach(function (answer) {\n            if (!answer.parent) {\n                html += '<div class=\"form-group\">\\n                            <div class=\"custom-control custom-radio\">\\n                                <input type=\"radio\" id=\"' + answer.id + '\" data-parent=\"' + answer.id + '\" name=\"answers[][id]\" value=\"' + answer.id + '\" class=\"custom-control-input\">\\n                                <label class=\"custom-control-label\" for=\"' + answer.id + '\">' + answer.title + '</label>\\n                            </div>\\n                        </div>';\n\n                if (answer.is_photo_enabled) {\n                    html += '<div class=\"form-group pl-4\">\\n                                <div class=\"custom-file\">\\n                                    <input type=\"file\" name=\"answers[][' + answer.id + '][photo]\" data-parent=\"' + answer.id + '\" class=\"custom-file-input\" id=\"file_' + answer.id + '\">\\n                                    <label class=\"custom-file-label\" for=\"file_' + answer.id + '\">\\u041A\\u0430\\u0447\\u0435\\u0442\\u0435 \\u0441\\u043D\\u0438\\u043C\\u043A\\u0430</label>\\n                                </div>\\n                             </div>';\n                }\n            } else {\n                if (answer.is_free_answer) {\n                    html += '<div class=\"form-group pl-4\">\\n                                <label for=\"' + answer.id + '\">' + answer.title + '</label>\\n                                <textarea name=\"answers[][' + answer.id + '][explanation]\" id=\"' + answer.id + '\" data-parent=\"' + answer.parent + '\" rows=\"3\" class=\"form-control w-100\"></textarea>\\n                            </div>';\n                } else {\n                    html += '<div class=\"form-group pl-4\">\\n                                <div class=\"custom-control custom-checkbox\">\\n                                    <input type=\"checkbox\" id=\"' + answer.id + '\" data-parent=\"' + answer.parent + '\" name=\"answers[][id]\" value=\"' + answer.id + '\" class=\"custom-control-input\">\\n                                    <label class=\"custom-control-label\" for=\"' + answer.id + '\">' + answer.title + '</label>\\n                                </div>\\n                            </div>';\n                }\n            }\n        });\n        html += '</div>';\n\n        surveyFormHolder.html(html);\n    }\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvZnJvbnQvanMvc3VydmV5LmpzPzU1NTMiXSwic291cmNlc0NvbnRlbnQiOlsiKCgpID0+IHtcbiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdXJ2ZXlGb3JtJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnW2RhdGEtcGFyZW50XScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHBhcmVudElkID0gJCh0aGlzKS5kYXRhKCdwYXJlbnQnKTtcblxuICAgICAgICAkKGAjJHtwYXJlbnRJZH1gKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cbiAgICAgICAgZGVzZWxlY3RJcnJlbGV2YW50KHBhcmVudElkKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdibHVyIGtleXVwJywgJ3RleHRhcmVhW2RhdGEtcGFyZW50XScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCEkKHRoaXMpLnZhbCgpKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGxldCBwYXJlbnRJZCA9ICQodGhpcykuZGF0YSgncGFyZW50Jyk7XG5cbiAgICAgICAgJChgIyR7cGFyZW50SWR9YCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXG4gICAgICAgIGRlc2VsZWN0SXJyZWxldmFudChwYXJlbnRJZCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJy5jdXN0b20tZmlsZS1pbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGZpbGVOYW1lID0gJCh0aGlzKS52YWwoKS5yZXBsYWNlKCdDOlxcXFxmYWtlcGF0aFxcXFwnLCAnJyk7XG4gICAgICAgICQodGhpcykubmV4dCgnLmN1c3RvbS1maWxlLWxhYmVsJykuaHRtbChmaWxlTmFtZSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBkZXNlbGVjdElycmVsZXZhbnQocGFyZW50SWQpIHtcbiAgICAgICAgWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLXBhcmVudGApXS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5kYXRhc2V0LnBhcmVudCAhPT0gcGFyZW50SWQpIHtcbiAgICAgICAgICAgICAgICBlLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlLnZhbHVlID0gJyc7XG5cbiAgICAgICAgICAgICAgICBpZiAoZS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZSkubmV4dCgnLmN1c3RvbS1maWxlLWxhYmVsJykuaHRtbCgn0JrQsNGH0LXRgtC1INGB0L3QuNC80LrQsCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICcjc3VydmV5Rm9ybScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCgnLmxvYWRpbmcnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgICAgIHBvc3RGb3JtKCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBvYmplY3RJZCA9ICQoJyNzdXJ2ZXlGb3JtJykuZGF0YSgnb2JqZWN0SWQnKTtcbiAgICBjb25zdCBzdXJ2ZXlGb3JtSG9sZGVyID0gJCgnI3N1cnZleUZvcm1Db250ZW50Jyk7XG5cbiAgICBnZXROZXdRdWVzdGlvbigpO1xuXG4gICAgZnVuY3Rpb24gZ2V0TmV3UXVlc3Rpb24oKSB7XG4gICAgICAgICQoJy5sb2FkaW5nJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiBgL2Zyb250LWVuZC9nZW8tb2JqZWN0LyR7b2JqZWN0SWR9L3N1cnZleWAsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICQoJy5sb2FkaW5nJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZXN1bHRzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLnN0YXR1cyAmJiByZXN1bHRzLnN0YXR1cyA9PT0gJ25vX3F1ZXN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRNZXNzYWdlKHJlc3VsdHMubWVzc2FnZSB8fCAn0J3Rj9C80LAg0L/QvtCy0LXRh9C1INCy0YrQv9GA0L7RgdC4Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVzdGlvblByaW50ZXIocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc3RGb3JtKCkge1xuICAgICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgICAgIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjc3VydmV5Rm9ybSBbbmFtZV0nKV0uZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcbiAgICAgICAgICAgIGxldCBpc0ZpbGUgPSB0eXBlID09PSAnZmlsZSc7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBpc0ZpbGUgPyAoZWwuZmlsZXNbMF0gfHwgbnVsbCkgOiBlbC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCh0eXBlID09PSAnY2hlY2tib3gnIHx8IHR5cGUgPT09ICdyYWRpbycpICYmICFlbC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtLmFwcGVuZChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGE6IGZvcm0sXG4gICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG4gICAgICAgICAgICB1cmw6IGAvZnJvbnQtZW5kL2dlby1vYmplY3QvJHtvYmplY3RJZH0vc3VydmV5YCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBnZXROZXdRdWVzdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmludE1lc3NhZ2UobXNnKSB7XG4gICAgICAgIGxldCBmb3JtUGFyZW50ID0gJCgnI3N1cnZleUZvcm0nKS5wYXJlbnQoKTtcbiAgICAgICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz4ke21zZ308L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgIGZvcm1QYXJlbnQuaHRtbChodG1sKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBxdWVzdGlvblByaW50ZXIocmVzdWx0cykge1xuICAgICAgICBsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwiZm9udC13ZWlnaHQtYm9sZCBtLTBcIj4ke3Jlc3VsdHMucXVlc3Rpb259PC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cInB5LTNcIj5gO1xuICAgICAgICByZXN1bHRzLmFuc3dlcnMuZm9yRWFjaCgoYW5zd2VyKSA9PntcbiAgICAgICAgICAgIGlmICghYW5zd2VyLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN1c3RvbS1jb250cm9sIGN1c3RvbS1yYWRpb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2Fuc3dlci5pZH1cIiBkYXRhLXBhcmVudD1cIiR7YW5zd2VyLmlkfVwiIG5hbWU9XCJhbnN3ZXJzW11baWRdXCIgdmFsdWU9XCIke2Fuc3dlci5pZH1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiJHthbnN3ZXIuaWR9XCI+JHthbnN3ZXIudGl0bGV9PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG5cbiAgICAgICAgICAgICAgICBpZiAoYW5zd2VyLmlzX3Bob3RvX2VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcGwtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VzdG9tLWZpbGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIG5hbWU9XCJhbnN3ZXJzW11bJHthbnN3ZXIuaWQgfV1bcGhvdG9dXCIgZGF0YS1wYXJlbnQ9XCIke2Fuc3dlci5pZH1cIiBjbGFzcz1cImN1c3RvbS1maWxlLWlucHV0XCIgaWQ9XCJmaWxlXyR7YW5zd2VyLmlkIH1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1maWxlLWxhYmVsXCIgZm9yPVwiZmlsZV8ke2Fuc3dlci5pZCB9XCI+0JrQsNGH0LXRgtC1INGB0L3QuNC80LrQsDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuc3dlci5pc19mcmVlX2Fuc3dlcikge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBwbC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCIke2Fuc3dlci5pZCB9XCI+JHthbnN3ZXIudGl0bGV9PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIG5hbWU9XCJhbnN3ZXJzW11bJHthbnN3ZXIuaWQgfV1bZXhwbGFuYXRpb25dXCIgaWQ9XCIke2Fuc3dlci5pZH1cIiBkYXRhLXBhcmVudD1cIiR7YW5zd2VyLnBhcmVudH1cIiByb3dzPVwiM1wiIGNsYXNzPVwiZm9ybS1jb250cm9sIHctMTAwXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcGwtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke2Fuc3dlci5pZH1cIiBkYXRhLXBhcmVudD1cIiR7YW5zd2VyLnBhcmVudH1cIiBuYW1lPVwiYW5zd2Vyc1tdW2lkXVwiIHZhbHVlPVwiJHthbnN3ZXIuaWR9XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2Fuc3dlci5pZH1cIj4ke2Fuc3dlci50aXRsZX08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGh0bWwgKz0gYDwvZGl2PmA7XG5cbiAgICAgICAgc3VydmV5Rm9ybUhvbGRlci5odG1sKGh0bWwpO1xuICAgIH1cbn0pKCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXNzZXRzL2Zyb250L2pzL3N1cnZleS5qcyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ })
/******/ ]);